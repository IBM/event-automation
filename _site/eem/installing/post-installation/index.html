<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Post-installation tasks - IBM Event Automation</title>
<meta name="description" content="Post-installation tasks after successfully installing Event Endpoint Management.">

<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="IBM Event Automation">
<meta property="og:url" content="http://localhost:4000/event-automation/eem/installing/post-installation/" />
<meta property="og:title" content="Endpoint Management | Post-installation tasks" />
<meta property="og:description" content="Post-installation tasks after successfully installing Event Endpoint Management." />

<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="IBM Event Automation | Post-installation tasks" />




  <meta property="og:description" content="Post-installation tasks after successfully installing Event Endpoint Management.">



  <meta property="og:image" content="http://localhost:4000/event-automation/assets/siteMeta/appIcon_og_fb.png">
  <meta name="twitter:image" content="http://localhost:4000/event-automation/assets/siteMeta/appIcon_og_square.png">



  <meta property="article:published_time" content="2023-06-28T12:13:19-04:00">






<link rel="canonical" href="http://localhost:4000/event-automation/eem/installing/post-installation/">





  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "http://localhost:4000/event-automation",
      "logo": "http://localhost:4000/event-automation/assets/siteMeta/appIcon_og_fb.png"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": null,
      "url": "http://localhost:4000/event-automation",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/event-automation/feed.xml" type="application/atom+xml" rel="alternate" title="IBM Event Automation Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/event-automation/assets/css/main.css">



<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<link rel="apple-touch-icon" sizes="180x180" href="http://localhost:4000/event-automation/assets/siteMeta/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:4000/event-automation/assets/siteMeta/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:4000/event-automation/assets/siteMeta/favicon-16x16.png">
<link rel="manifest" href="http://localhost:4000/event-automation/assets/siteMeta/site.webmanifest">
<link rel="mask-icon" href="http://localhost:4000/event-automation/assets/siteMeta/safari-pinned-tab.svg" color="#000000">
<link rel="shortcut icon" href="http://localhost:4000/event-automation/assets/siteMeta/favicon.ico">
<link rel="shortcut icon" type="image/png" href="http://localhost:4000/event-automation/assets/siteMeta/favicon-16x16.png"/>
<link rel="shortcut icon" type="image/png" href="http://localhost:4000/event-automation/assets/siteMeta/favicon-32x32.png"/>
<meta name="msapplication-TileColor" content="#000000">
<meta name="msapplication-config" content="http://localhost:4000/event-automation/assets/siteMeta/browserconfig.xml">
<meta name="theme-color" content="#000000">



<link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,600%7CIBM+Plex+Serif:300,400,500%7CIBM+Plex+Mono:300,400,500,700" rel="stylesheet">

<!-- end custom head snippets -->

    <link rel="shortcut icon" type="image/x-icon" href="/event-automation/assets/favicon.ico" >
    
    <base target="_parent">

  </head>
  <script src="/event-automation/assets/animation/lottie.js" type="text/javascript"></script>
  <script src="/event-automation/assets/js/connectors.js"></script>


  
  <body onload="" class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    




<div id="masthead" class="masthead">
  <!--
  <div class="masthead__goToIBMCloud">
  <div>
    You are viewing the documentation for the container-native version of IBM Event Automation.
  </div>
    <a class="link" target="_self" href="https://cloud.ibm.com/docs/EventStreams?topic=EventStreams-getting-started">Looking for the managed service on IBM Cloud? Click here.</a>
</div>
-->
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="mastheadNav">

      


        <div class="mastheadTitle">
          
          <a class="site-title" href="/event-automation/" target="_self"><span>IBM</span>&nbsp;Event Automation</a>
          <div class="viewOnIBMcom">
            <a href="https://www.ibm.com/products/event-automation" target="_blank">View product page</a>
          </div>
        </div>









        <div class="mastheadControls">
            <div class="menuScrollContainer">

        

                <ul id="visible-links" class="visible-links">
                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/es/','_self')">
                      <a href="http://localhost:4000/event-automation/es/" >Event Streams</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item active" onclick="window.open('http://localhost:4000/event-automation/eem/','_self')">
                      <a href="http://localhost:4000/event-automation/eem/" >Endpoint Management</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/ep/','_self')">
                      <a href="http://localhost:4000/event-automation/ep/" >Event Processing</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/connectors/','_self')">
                      <a href="http://localhost:4000/event-automation/connectors/" >Connectors</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/tutorials/','_self')">
                      <a href="http://localhost:4000/event-automation/tutorials/" >Tutorials</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/api/','_self')">
                      <a href="http://localhost:4000/event-automation/api/" >APIs...</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/support/','_self')">
                      <a href="http://localhost:4000/event-automation/support/" >Support</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/search/','_self')">
                      <button aria-label="Search Button" role="button" id="searchButton" class="search__toggle " type="button" name="search Button">
                        <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                          <path
                            d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z"
                            transform="translate(-.01)"></path>
                        </svg>
                      </button>
                    </li>
                  

                  
                </ul>
        

      </div>
    </div>
      </nav>
    </div>
  </div>
</div>


    <div id="initial-content" class="initial-content" role="main">






<main id="main" class="mainContainer" role="main">
    
      <div id="subMenu" class="subMenu">
        <div tabindex="0" class="menuIcon" id="menuIcon">
          <svg id="mobileMenu" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48">
            <g id="bottomLine">
              <line class="burgerLine" x1="14" y1="29" x2="34" y2="29" />
            </g>
            <g id="middleLine">
              <line class="burgerLine" x1="14" y1="24" x2="34" y2="24" />
            </g>
            <g id="topLine">
              <line class="burgerLine" x1="14" y1="19" x2="34" y2="19" />
            </g>
          </svg>
        </div>
        <div id="mobileVersionShortcut" class="versionContainer" tabindex="0">
          <a id="mobileVersionPillCurrent" class="versionPill">11.0</a>
        </div>
      </div>
    
  



<div id="sidebarMask" class="sidebarMask">

  </div>
  <div id="sidebar" class="sidebar sticky">
      <div aria-label="Change Version" role="button" aria-expanded="false"
      
        id="versionDropdown"
        tabindex="0"
        class="versionsBar"
       >
          <div class="selectedVersion" id="selectedVersion">
            <div class="versionContainer" >
              
                <a id="versionPillCurrent" class="versionPill">11.0</a>
                <a class="versionChange">Change Version</a>
              
            </div>
          </div>
          


          <div class="allVersions" id="allVersions">
            <ul>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/eem/installing/post-installation/" onclick="openVersion('/event-automation/eem/installing/post-installation/','eem_11.0')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/eem/installing/post-installation/" class="versionPill active">11.0</a>
                      </div>
                      <div class="activeContainer">
                        
                          <img alt="" src="http://localhost:4000/event-automation/images/checkbox.svg" />
                        
                      </div>
                      <div class="latest">
                        Latest
                      </div>
                    </li>

                

            </ul>
          </div>
        </div>

  
    
      
      
      
    
    
      

<nav class="nav__list">
  
  <ul class="nav__items">

    
      <li>
        
          <span class="nav__sub-title">About</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/about/overview/" class="">Introduction</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/about/whats-new/" class="">What's new</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/about/key-concepts/" class="">Key concepts</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Installing</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/prerequisites/" class="">Prerequisites</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/planning/" class="">Planning your installation</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/overview/" class="">Installation overview</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/installing/" class="">Installing the Manager in an online environment</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/offline/" class="">Installing the Manager in an offline environment</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/deploy-gateways/" class="">Installing Event Gateways on the same cluster</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/standalone-gateways/" class="">Installing stand-alone Event Gateways</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/configuring/" class="">Configuring</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/post-installation/" class="active">Post-installation tasks</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/backup-restore/" class="">Backing up and restoring</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/uninstalling/" class="">Uninstalling</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/upgrading/" class="">Upgrading</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Getting started</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/getting-started/logging-in/" class="">Logging in</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Security</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/security/managing-access/" class="">Managing access</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/security/user-roles/" class="">Managing user roles</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/security/verifying-signature/" class="">Verifying container image signatures</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/security/network-policies/" class="">Network policies</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/security/gdpr-considerations/" class="">Considerations for GDPR</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Describe and publish</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/describe/adding-topics/" class="">Describing event sources</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/describe/managing-topics/" class="">Managing topics</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/describe/managing-clusters/" class="">Managing clusters</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/describe/publishing-topics/" class="">Publishing topics</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/describe/managing-user-access-to-topics/" class="">Managing user access to topics</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/describe/managing-gateways/" class="">Managing gateways</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Consume and subscribe</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/consume-subscribe/discovering-topics/" class="">Discovering topics</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/consume-subscribe/subscribing-to-topics/" class="">Subscribing to topics</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/consume-subscribe/setting-your-application-to-consume/" class="">Setting your application to consume from a topic</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Integrating with IBM API Connect</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/integrating-with-apic/overview/" class="">Integration overview</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/integrating-with-apic/configure-eem-for-apic/" class="">Configure the Manager as an Event Gateway Service</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/integrating-with-apic/export-asyncapi/" class="">Export an AsyncAPI for use in API Connect</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Reference</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/reference/api-reference/" class="">API reference for the CRDs</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Troubleshooting</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/troubleshooting/intro/" class="">Troubleshooting overview</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/troubleshooting/gathering-logs/" class="">Gathering logs</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/troubleshooting/trace-logging/" class="">Configuring trace logging</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/troubleshooting/no-such-algorithm-log/" class="">No such algorithm exception log</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/troubleshooting/evicted-gateway/" class="">Event Gateway in 'Evicted' state</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/troubleshooting/invalid-async-api/" class="">Invalid exported Async API for API Connect</a>
            </li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  
  </div>


  <div class="mainContent">
    
    <div id="pageContainer" class="page" itemscope itemtype="http://schema.org/CreativeWork">
      
      <div class="page__inner-wrap  latestVersion">
      

        
        <section class="page__content pageSpacing" itemprop="text">
          
        
          <header>
            <h1 id="page-title" class="page__title" itemprop="headline">
              Post-installation tasks
</h1>
            
          </header>  
        
        

                    
          <div class="content">
            <p>Consider the following tasks after installing Event Endpoint Management.</p>

<h2 id="verifying-an-installation">Verifying an installation</h2>

<p>To verify that your Event Endpoint Management installation deployed successfully, you can check the status of your
instance either in the OpenShift Container Platform web user interface (UI) or command line tool (CLI).</p>

<h3 id="using-the-openshift-container-platform-ui">Using the OpenShift Container Platform UI</h3>

<ol>
  <li>Log in to the OpenShift Container Platform <a href="https://docs.openshift.com/container-platform/4.12/web_console/web-console.html" target="_blank">web console</a> using your login credentials.</li>
  <li>Expand the <strong>Operators</strong> dropdown and select <strong>Installed Operators</strong> to open the <strong>Installed Operators</strong> page.</li>
  <li>Expand the <strong>Project</strong> dropdown and select the project the instance is installed in. Click the operator called <strong>IBM Event Endpoint Management</strong>.</li>
  <li>Select the <strong>Event Endpoint Management</strong> tab.</li>
  <li>The <strong>Status</strong> column will display the current state of the <code class="language-plaintext highlighter-rouge">EventEndpointManagement</code> custom resource. When the 
Event Endpoint Management instance is ready, the status will display <code class="language-plaintext highlighter-rouge">Phase: Running</code>.</li>
</ol>

<h3 id="using-the-openshift-container-platform-cli">Using the OpenShift Container Platform CLI</h3>

<p>After all the components of an Event Endpoint Management instance are active and ready, the <code class="language-plaintext highlighter-rouge">EventEndPointManagement</code>
custom resource will have a <code class="language-plaintext highlighter-rouge">Running</code> phase in the status.</p>

<p>To verify the status:</p>

<ol>
  <li>Log in to your Red Hat OpenShift Container Platform as a cluster administrator by using the <a href="https://docs.openshift.com/container-platform/4.12/cli_reference/openshift_cli/getting-started-cli.html#cli-logging-in_cli-developer-commands" target="_blank"><code class="language-plaintext highlighter-rouge">oc</code> CLI</a> (<code class="language-plaintext highlighter-rouge">oc login</code>).</li>
  <li>Run the <code class="language-plaintext highlighter-rouge">oc get</code> command as follows:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oc get eventendpointmanagement &lt;instance-name&gt; -n &lt;namespace&gt; -o jsonpath='{.status.phase}'
</code></pre></div>    </div>
    <p>An example output for a successful deployment:</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ oc get eventendpointmanagement development -n eem -o jsonpath='{.status.phase}'
Running
</code></pre></div>    </div>
  </li>
</ol>

<p><strong>Note:</strong> It might take several minutes for all the resources to be created and the instance to become ready.</p>

<h2 id="setting-up-access">Setting up access</h2>

<p>After the Event Endpoint Management instance is successfully created, set up user authentication and authorization
for your chosen implementation. Event Endpoint Management supports locally defined authentication for testing
purposes and <a href="https://openid.net/connect/" target="_blank">OpenID Connect (OIDC) authentication</a> for production purposes.</p>

<ul>
  <li>If you have selected <code class="language-plaintext highlighter-rouge">LOCAL</code> authentication, ensure you create user credentials before you access the
Event Endpoint Management instance.  For more information, see <a href="../../security/managing-access">managing access</a>.</li>
  <li>After setting up <code class="language-plaintext highlighter-rouge">LOCAL</code> or <code class="language-plaintext highlighter-rouge">OIDC</code> authentication, assign users to roles. For more information, see <a href="../../security/user-roles">managing roles</a>.</li>
</ul>

<h2 id="verifying-the-event-gateway-configuration">Verifying the Event Gateway configuration</h2>

<p>To verify the gateway configuration:</p>

<ol>
  <li>Login to your Event Endpoint Management instance with your configured credentials</li>
  <li>Navigate to the <strong>Gateways</strong> page on the toolbar on the left side of the page.</li>
  <li>The <strong>Gateways</strong> page displays all the Event Gateway instances registered with the Event Endpoint Management Manager instance and their
configuration status. Verify that the Event Gateway you have configured is present in the table.</li>
</ol>

<h2 id="backup-the-data-encryption-key">Backup the data encryption key</h2>

<p>The secret <code class="language-plaintext highlighter-rouge">&lt;instance-name&gt;-ibm-eem-mek</code> contains an important key for decrypting the data stored by Event Endpoint Management.
This key should be backed up and stored safely outside your OpenShift cluster.</p>

<p>To save the key to a file, complete the following steps.</p>

<ol>
  <li>Log in to the OpenShift Container Platform <a href="https://docs.openshift.com/container-platform/4.12/web_console/web-console.html" target="_blank">web console</a> using your login credentials.</li>
  <li>Run the following command to retrieve the encryption secret.
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oc get secret &lt;instance-name&gt;-ibm-eem-mek -n &lt;namespace&gt;
</code></pre></div>    </div>
  </li>
  <li>Create a backup of the encryption secret with the command:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oc get secret &lt;instance-name&gt;-ibm-eem-mek -n &lt;namespace&gt; -o yaml &gt; encryption-secret.yaml
</code></pre></div>    </div>
    <p>This command retrieves the encryption secret in YAML format and redirects the output to a file named <code class="language-plaintext highlighter-rouge">encryption-secret.yaml</code>.</p>
  </li>
  <li>Ensure that the backup file (<code class="language-plaintext highlighter-rouge">encryption-secret.yaml</code>) is stored in a secure location outside the OpenShift cluster.</li>
</ol>

<h2 id="validating-a-usage-based-deployment">Validating a usage-based deployment</h2>

<p>You can confirm if a usage-based deployment is operating as expected by checking the logs and the <code class="language-plaintext highlighter-rouge">/ready</code> endpoint of a running Event Endpoint Management manager instance.</p>

<p>When starting, verify the Event Endpoint Management manager logs if it is operating in usage-based mode. If it is, the manager will perform an initial test of the provided configuration settings. The following is an example of a successful check:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
&lt;DATETIME&gt; INFO  com.ibm.ei.eim.ubp.UBPCollector (UBP Collector) - [configReceived:181] Usage Based Pricing enabled : License Service reporting usage to: &lt;ENDPOINT&gt;
...
&lt;DATETIME&gt; INFO  com.ibm.ei.eim.ubp.UBPCollector (UBP Collector) - [lambda$configReceived$8:188] Usage Based Pricing configuration test successful..
...
</code></pre></div></div>

<p>If at any time an issue occurs when reporting metrics, including the initial test, a message is written to the logs, detailing the cause of the error, and the payload which was being sent. The following is an example of an error message:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
&lt;DATETIME&gt; WARN  com.ibm.ei.eim.ubp.UBPCollector (UBP Collector) - [lambda$sendMetrics$18:295] Failed to send data to the license service : &lt;ENDPOINT&gt; : &lt;ERROR&gt; : &lt;PAYLOAD&gt;
</code></pre></div></div>

<p><strong>Note:</strong> If an error occurs when submitting the number of API calls to the Licensing Service, the actual number of API calls made is not lost. They will be reported, in addition to any new API calls, in the next submission.</p>

<p>This message and status is also available in the Event Endpoint Management manager component <code class="language-plaintext highlighter-rouge">/ready</code> endpoint on port 8081, under the <code class="language-plaintext highlighter-rouge">UBP.Reporting.Status</code> ID. This endpoint can be queried at any time. The following is an example query:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oc exec $(oc get pod -l app.kubernetes.io/instance=&lt;INSTANCE_NAME&gt; -n &lt;NAMESPACE&gt; -o name) -n &lt;NAMESPACE&gt; curl http://localhost:8081/ready
</code></pre></div></div>

<p>The result will return the current status of the gateway. The following is an example result of a healthy system with usage-based licensing configured:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "code" : 200,
  "body" : {
    "components" : [ {
      "id" : "GatewayServices",
      "description" : "ok",
      "code" : 200,
      "conditions" : [ ]
    }, {
      "id" : "FileStorageProvider",
      "description" : "ok",
      "code" : 200,
      "conditions" : [ ]
    }, {
      "id" : "UBP.Reporting.Status",
      "description" : "ok",
      "code" : 200,
      "conditions" : [ ]
    }, {
      "id" : "EEMUI",
      "description" : "ok",
      "code" : 200,
      "conditions" : [ ]
    }, {
      "id" : "OperatorServices",
      "description" : "ok",
      "code" : 200,
      "conditions" : [ ]
    } ],
    "readyComponentCount" : 5,
    "notReadyComponentCount" : 0,
    "code" : 200,
    "status" : "ok"
  }
}
</code></pre></div></div>

<p>The following is an example result of a system that has usage-based licensing configured, but is running with errors:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "code" : 503,
  "body" : {
    "components" : [ {
      "id" : "GatewayServices",
      "description" : "ok",
      "code" : 200,
      "conditions" : [ ]
    }, {
      "id" : "FileStorageProvider",
      "description" : "ok",
      "code" : 200,
      "conditions" : [ ]
    }, {
      "id" : "UBP.Reporting.Status",
      "description" : "Failed to send data to the license service : https://ibm-licensing-service-instance.ibm-common-services.svc.cluster.local:8089/v2/metric_upload?token=cEDdqE9sodSl8n87Vz82Im39 : No route to host: ibm-licensing-service-instance.ibm-common-services.svc.cluster.local/172.30.42.210:8089 : {\"cloudpakId\":\"279abae6bfe647eca1f0efcbf136099c\",\"cloudpakName\":\"IBM Cloud Pak for Integration - API Calls\",\"productId\":\"3af7dda8ce3e4369b1c461c2982719c8\",\"productName\":\"IBM Event Endpoint Management Non Production\",\"productMetric\":\"MONTHLY_API_CALL\",\"productCloudpakRatio\":\"2:1\",\"cloudpakMetric\":\"RESOURCE_VALUE_UNIT\",\"aggregationPolicy\":\"ADD\",\"metricValue\":0}",
      "code" : 500,
      "conditions" : [ ]
    }, {
      "id" : "EEMUI",
      "description" : "ok",
      "code" : 200,
      "conditions" : [ ]
    }, {
      "id" : "OperatorServices",
      "description" : "ok",
      "code" : 200,
      "conditions" : [ ]
    } ],
    "readyComponentCount" : 4,
    "notReadyComponentCount" : 1,
    "code" : 503,
    "status" : "Not ready"
  }
}
</code></pre></div></div>

<h2 id="updating-and-renewing-certificates">Updating and renewing certificates</h2>

<p>After installing Event Endpoint Management, you can manage your certificates with the IBM Cert Manager operator.</p>

<p><strong>Important:</strong> When updating or renewing certificates, it is important to also update the <code class="language-plaintext highlighter-rouge">spec.tls.caSecretName</code> configuration (or <code class="language-plaintext highlighter-rouge">ca.pem</code> if deployed as a stand-alone gateway) of any Event Gateway in step with updates made to the Event Endpoint Management Manager Manager instance they are registered with. Communication between the Event Gateway and Manager will fail until the certificate configuration is updated.</p>

<h3 id="renew-an-existing-certificate">Renew an existing certificate</h3>

<p>You can use IBM Cert Manager to renew and regenerate a certificate if the secret for the certificate is deleted. You can also use the Cert Manager to renew your expired certificates.</p>

<h4 id="by-using-cmctl">By using <code class="language-plaintext highlighter-rouge">cmctl</code></h4>

<p>Cert Manager provides the cert-manager Command Line Tool (<code class="language-plaintext highlighter-rouge">cmctl</code>) for managing and renewing certificates.</p>

<ol>
  <li>Install the <a href="https://cert-manager.io/docs/reference/cmctl/#installation" target="_blank">cert-manager Command Line Tool (<code class="language-plaintext highlighter-rouge">cmctl</code>)</a>.</li>
  <li>Log in to your Red Hat OpenShift Container Platform as a cluster administrator by using the <a href="https://docs.openshift.com/container-platform/4.12/cli_reference/openshift_cli/getting-started-cli.html#cli-logging-in_cli-developer-commands" target="_blank"><code class="language-plaintext highlighter-rouge">oc</code> CLI</a> (<code class="language-plaintext highlighter-rouge">oc login</code>).</li>
  <li>
    <p>Ensure you are in the project where your Event Endpoint Management instance is installed:</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oc project &lt;project_name&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>View the certificates of your Event Endpoint Management instance by running the following command:</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oc get certificate
</code></pre></div>    </div>
  </li>
  <li>
    <p>View the status of an existing certificate by running the following command:</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmctl status certificate &lt;certificate_name&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>Renew a certificate by running the following command:</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmctl renew &lt;certificate_name&gt;
</code></pre></div>    </div>
  </li>
</ol>

<h4 id="by-using-the-web-console">By using the web console</h4>

<p>You can also renew a certificate by deleting the existing secret. You can do this in the OpenShift web console as follows:</p>

<ol>
  <li>Log in to the OpenShift Container Platform <a href="https://docs.openshift.com/container-platform/4.12/web_console/web-console.html" target="_blank">web console</a> using your login credentials.</li>
  <li>Expand the <strong>Operators</strong> dropdown and select <strong>Installed Operators</strong> to open the <strong>Installed Operators</strong> page.</li>
  <li>Expand the <strong>Project</strong> dropdown and select the project the instance is installed in. Click the operator called <strong>IBM Event Endpoint Management</strong>.</li>
  <li>Click the <strong>Event Endpoint Management</strong> tab and search the <strong>Name</strong> column for the installed instance and click the name.</li>
  <li>In the <strong>EventEndpointManagement details</strong> dashboard, scroll down and locate the <strong>Ca Secret Name</strong> field, and then click the linked secret.</li>
  <li>Click the <strong>Actions</strong> menu, and select <strong>Delete secret</strong></li>
</ol>

<p><strong>Note:</strong> Following deleting the secret, you will be navigated back to the <strong>Secrets</strong> page. Your deleted secret will have been regenerated with a new value, which will be used for your certificate in the IBM Cert Manager.</p>

<h4 id="by-using-the-cli">By using the CLI</h4>

<p>You can also renew a certificate by deleting the existing secret. You can do this by using the <code class="language-plaintext highlighter-rouge">oc</code> CLI as follows:</p>

<ol>
  <li>Log in to your Red Hat OpenShift Container Platform as a cluster administrator by using the <a href="https://docs.openshift.com/container-platform/4.12/cli_reference/openshift_cli/getting-started-cli.html#cli-logging-in_cli-developer-commands" target="_blank"><code class="language-plaintext highlighter-rouge">oc</code> CLI</a> (<code class="language-plaintext highlighter-rouge">oc login</code>).</li>
  <li>
    <p>Ensure you are in the project where your Event Endpoint Management instance is installed:</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oc project &lt;project_name&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>Run the following command to display the Event Endpoint Management instances:</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oc get eventendpointmanagement
</code></pre></div>    </div>
  </li>
  <li>
    <p>Run the following command to display the name of the secret representing the certificate for Event Endpoint Management:</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oc get eventendpointmanagement &lt;instance_name&gt; <span class="nt">--template</span> <span class="s1">'{ {.spec.manager.tls.caSecretName} }'</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Run the following command to delete and regenerate the value of the certificate:</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oc delete secret &lt;secret_name&gt;
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="update-a-certificate-to-use-an-external-secret">Update a certificate to use an external secret</h3>

<p>You can provide an externally generated certificate to the IBM Cert Manager. To use an externally generated certificate, update the Event Endpoint Management instance to use the external certificate as follows.</p>

<h4 id="generate-a-certificate-externally">Generate a certificate externally</h4>

<p>You can generate a certificate externally to register with Event Endpoint Management. There are several ways to generate a certificate externally. For example, you can create a certificate by using <code class="language-plaintext highlighter-rouge">openssl</code> as follows.</p>

<ol>
  <li>
    <p>Generate a certificate key file by using <code class="language-plaintext highlighter-rouge">openssl</code>:
<code class="language-plaintext highlighter-rouge">openssl genrsa --out ca.key 4096</code></p>
  </li>
  <li>
    <p>Generate a CA certificate by using the key file:
<code class="language-plaintext highlighter-rouge">openssl req -new -x509 -sha256 -days 10950 -key ca.key -out ca.crt</code></p>
  </li>
</ol>

<h4 id="register-an-externally-generated-certificate">Register an externally generated certificate</h4>

<p>Register an externally generated certificate with Event Endpoint Management as follows.</p>

<ol>
  <li>Log in to your Red Hat OpenShift Container Platform as a cluster administrator by using the <a href="https://docs.openshift.com/container-platform/4.12/cli_reference/openshift_cli/getting-started-cli.html#cli-logging-in_cli-developer-commands" target="_blank"><code class="language-plaintext highlighter-rouge">oc</code> CLI</a> (<code class="language-plaintext highlighter-rouge">oc login</code>).</li>
  <li>
    <p>Ensure you are in the project where your Event Endpoint Management instance is installed:</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oc project &lt;project_name&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>Encode your externally generated certificates to Base 64 format, and make a note of the values:</p>

    <p><code class="language-plaintext highlighter-rouge">base64 -i ca.crt</code></p>

    <p><code class="language-plaintext highlighter-rouge">base64 -i ca.key</code></p>
  </li>
  <li>
    <p>Create a YAML file called <code class="language-plaintext highlighter-rouge">secret.yaml</code> with the following content:</p>

    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
 <span class="na">kind</span><span class="pi">:</span> <span class="s">Secret</span>
 <span class="na">metadata</span><span class="pi">:</span>
   <span class="na">name</span><span class="pi">:</span> <span class="s">ibm-ca-secret</span>
   <span class="na">namespace</span><span class="pi">:</span> <span class="s">&lt;eem namespace&gt;</span>
 <span class="na">type</span><span class="pi">:</span> <span class="s">Opaque</span>
 <span class="na">data</span><span class="pi">:</span>
   <span class="s">ca.crt</span><span class="pi">:</span> <span class="s">&lt;base 64 value for ca.crt&gt;</span>
   <span class="s">tls.crt</span><span class="pi">:</span> <span class="s">&lt;base 64 value for ca.crt&gt;</span>
   <span class="s">tls.key</span><span class="pi">:</span> <span class="s">&lt;base 64 value for ca.key&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Apply the secret by running the following command:</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oc apply <span class="nt">-f</span> secret.yaml
</code></pre></div>    </div>
  </li>
  <li>
    <p>Edit the custom resource of the Event Endpoint Management instance by running the following command:</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oc edit eventendpointmanagement &lt;instance-name&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>Locate and update the <code class="language-plaintext highlighter-rouge">spec.tls.caSecretName</code> field to <code class="language-plaintext highlighter-rouge">ibm-ca-secret</code>, then save and exit.</p>

    <p><strong>Note:</strong> This will update the certificate used in your Event Endpoint Management instance. Your pods will reload with the latest certificates in use.</p>
  </li>
</ol>

          </div>


          
        </section>

        <aside class="sidebar__right ">
          
          <div class="fixedSidebar">
            <nav class="toc">
              <ul class="toc__menu">
  <li><a href="#verifying-an-installation">Verifying an installation</a>
    <ul>
      <li><a href="#using-the-openshift-container-platform-ui">Using the OpenShift Container Platform UI</a></li>
      <li><a href="#using-the-openshift-container-platform-cli">Using the OpenShift Container Platform CLI</a></li>
    </ul>
  </li>
  <li><a href="#setting-up-access">Setting up access</a></li>
  <li><a href="#verifying-the-event-gateway-configuration">Verifying the Event Gateway configuration</a></li>
  <li><a href="#backup-the-data-encryption-key">Backup the data encryption key</a></li>
  <li><a href="#validating-a-usage-based-deployment">Validating a usage-based deployment</a></li>
  <li><a href="#updating-and-renewing-certificates">Updating and renewing certificates</a>
    <ul>
      <li><a href="#renew-an-existing-certificate">Renew an existing certificate</a></li>
      <li><a href="#update-a-certificate-to-use-an-external-secret">Update a certificate to use an external secret</a></li>
    </ul>
  </li>
</ul>
            </nav>
          </div>
          
        </aside>


      </div>
      <div class="pageEnd">
        
          
  <nav class="pagination">
    
      <div class="previous" onclick="window.open('/event-automation/eem/installing/configuring/','_self')">
        <div class="container">
          <a href="/event-automation/eem/installing/configuring/" class="pagination--pager" title="Previous Item: Configuring
">Previous</a>
          <h2 class="titlePreview">Configuring
</h2>
        </div>
      </div>
    
    
      <div class="next" onclick="window.open('/event-automation/eem/installing/backup-restore/','_self')">
        <div class="container">
          <a href="/event-automation/eem/installing/backup-restore/" class="pagination--pager" title="Next Item: Backing up and restoring
">Next</a>
          <h2 class="titlePreview">Backing up and restoring
</h2>
        </div>
      </div>
      
  </nav>

        
      </div>
    </div>


  </div> <!-- Main content -->

</main></div>


    
      <div class="page__footer">
          <footer>
            <!-- start custom footer snippets -->

<!-- end custom footer snippets -->

            
<div class="page__footer-copyright"><a href="https://www.ibm.com/privacy/us/en/" rel="nofollow" target="_blank">Privacy Policy</a>  &nbsp;© Copyright IBM Corporation 2023</br>
<a href="http://localhost:4000/event-automation/accessibility/" rel="nofollow" target="_blank">Accessibility</a> </br> <a href="http://localhost:4000/event-automation/notices/" rel="nofollow" target="_blank">Notices</a></br>
          </footer>
      </div>      
    


    
  <script src="/event-automation/assets/js/main.min.js"></script>
  <!-- <script src="https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script> -->






<script src="/event-automation/assets/js/design.js"></script>





<script src="/event-automation/assets/js/lunr/lunr.min.js"></script>
<script src="/event-automation/assets/js/lunr/lunr-store.js"></script>
<script src="/event-automation/assets/js/lunr/lunr-en.js"></script>





    

    
  </body>
</html>
