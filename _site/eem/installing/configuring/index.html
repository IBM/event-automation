<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Configuring - IBM Event Automation</title>
<meta name="description" content="Configure your Event Endpoint Management Installation.">

<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="IBM Event Automation">
<meta property="og:url" content="http://localhost:4000/event-automation/eem/installing/configuring/" />
<meta property="og:title" content="Endpoint Management | Configuring" />
<meta property="og:description" content="Configure your Event Endpoint Management Installation." />

<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="IBM Event Automation | Configuring" />




  <meta property="og:description" content="Configure your Event Endpoint Management Installation.">



  <meta property="og:image" content="http://localhost:4000/event-automation/assets/siteMeta/appIcon_og_fb.png">
  <meta name="twitter:image" content="http://localhost:4000/event-automation/assets/siteMeta/appIcon_og_square.png">



  <meta property="article:published_time" content="2023-06-28T12:13:19-04:00">






<link rel="canonical" href="http://localhost:4000/event-automation/eem/installing/configuring/">





  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "http://localhost:4000/event-automation",
      "logo": "http://localhost:4000/event-automation/assets/siteMeta/appIcon_og_fb.png"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": null,
      "url": "http://localhost:4000/event-automation",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/event-automation/feed.xml" type="application/atom+xml" rel="alternate" title="IBM Event Automation Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/event-automation/assets/css/main.css">



<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<link rel="apple-touch-icon" sizes="180x180" href="http://localhost:4000/event-automation/assets/siteMeta/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:4000/event-automation/assets/siteMeta/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:4000/event-automation/assets/siteMeta/favicon-16x16.png">
<link rel="manifest" href="http://localhost:4000/event-automation/assets/siteMeta/site.webmanifest">
<link rel="mask-icon" href="http://localhost:4000/event-automation/assets/siteMeta/safari-pinned-tab.svg" color="#000000">
<link rel="shortcut icon" href="http://localhost:4000/event-automation/assets/siteMeta/favicon.ico">
<link rel="shortcut icon" type="image/png" href="http://localhost:4000/event-automation/assets/siteMeta/favicon-16x16.png"/>
<link rel="shortcut icon" type="image/png" href="http://localhost:4000/event-automation/assets/siteMeta/favicon-32x32.png"/>
<meta name="msapplication-TileColor" content="#000000">
<meta name="msapplication-config" content="http://localhost:4000/event-automation/assets/siteMeta/browserconfig.xml">
<meta name="theme-color" content="#000000">



<link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,600%7CIBM+Plex+Serif:300,400,500%7CIBM+Plex+Mono:300,400,500,700" rel="stylesheet">

<!-- end custom head snippets -->

    <link rel="shortcut icon" type="image/x-icon" href="/event-automation/assets/favicon.ico" >
    
    <base target="_parent">

  </head>
  <script src="/event-automation/assets/animation/lottie.js" type="text/javascript"></script>
  <script src="/event-automation/assets/js/connectors.js"></script>


  
  <body onload="" class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    




<div id="masthead" class="masthead">
  <!--
  <div class="masthead__goToIBMCloud">
  <div>
    You are viewing the documentation for the container-native version of IBM Event Automation.
  </div>
    <a class="link" target="_self" href="https://cloud.ibm.com/docs/EventStreams?topic=EventStreams-getting-started">Looking for the managed service on IBM Cloud? Click here.</a>
</div>
-->
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="mastheadNav">

      


        <div class="mastheadTitle">
          
          <a class="site-title" href="/event-automation/" target="_self"><span>IBM</span>&nbsp;Event Automation</a>
          <div class="viewOnIBMcom">
            <a href="https://www.ibm.com/products/event-automation" target="_blank">View product page</a>
          </div>
        </div>









        <div class="mastheadControls">
            <div class="menuScrollContainer">

        

                <ul id="visible-links" class="visible-links">
                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/es/','_self')">
                      <a href="http://localhost:4000/event-automation/es/" >Event Streams</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item active" onclick="window.open('http://localhost:4000/event-automation/eem/','_self')">
                      <a href="http://localhost:4000/event-automation/eem/" >Endpoint Management</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/ep/','_self')">
                      <a href="http://localhost:4000/event-automation/ep/" >Event Processing</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/connectors/','_self')">
                      <a href="http://localhost:4000/event-automation/connectors/" >Connectors</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/tutorials/','_self')">
                      <a href="http://localhost:4000/event-automation/tutorials/" >Tutorials</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/api/','_self')">
                      <a href="http://localhost:4000/event-automation/api/" >APIs...</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/support/','_self')">
                      <a href="http://localhost:4000/event-automation/support/" >Support</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/search/','_self')">
                      <button aria-label="Search Button" role="button" id="searchButton" class="search__toggle " type="button" name="search Button">
                        <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                          <path
                            d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z"
                            transform="translate(-.01)"></path>
                        </svg>
                      </button>
                    </li>
                  

                  
                </ul>
        

      </div>
    </div>
      </nav>
    </div>
  </div>
</div>


    <div id="initial-content" class="initial-content" role="main">






<main id="main" class="mainContainer" role="main">
    
      <div id="subMenu" class="subMenu">
        <div tabindex="0" class="menuIcon" id="menuIcon">
          <svg id="mobileMenu" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48">
            <g id="bottomLine">
              <line class="burgerLine" x1="14" y1="29" x2="34" y2="29" />
            </g>
            <g id="middleLine">
              <line class="burgerLine" x1="14" y1="24" x2="34" y2="24" />
            </g>
            <g id="topLine">
              <line class="burgerLine" x1="14" y1="19" x2="34" y2="19" />
            </g>
          </svg>
        </div>
        <div id="mobileVersionShortcut" class="versionContainer" tabindex="0">
          <a id="mobileVersionPillCurrent" class="versionPill">11.0</a>
        </div>
      </div>
    
  



<div id="sidebarMask" class="sidebarMask">

  </div>
  <div id="sidebar" class="sidebar sticky">
      <div aria-label="Change Version" role="button" aria-expanded="false"
      
        id="versionDropdown"
        tabindex="0"
        class="versionsBar"
       >
          <div class="selectedVersion" id="selectedVersion">
            <div class="versionContainer" >
              
                <a id="versionPillCurrent" class="versionPill">11.0</a>
                <a class="versionChange">Change Version</a>
              
            </div>
          </div>
          


          <div class="allVersions" id="allVersions">
            <ul>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/eem/installing/configuring/" onclick="openVersion('/event-automation/eem/installing/configuring/','eem_11.0')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/eem/installing/configuring/" class="versionPill active">11.0</a>
                      </div>
                      <div class="activeContainer">
                        
                          <img alt="" src="http://localhost:4000/event-automation/images/checkbox.svg" />
                        
                      </div>
                      <div class="latest">
                        Latest
                      </div>
                    </li>

                

            </ul>
          </div>
        </div>

  
    
      
      
      
    
    
      

<nav class="nav__list">
  
  <ul class="nav__items">

    
      <li>
        
          <span class="nav__sub-title">About</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/about/overview/" class="">Introduction</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/about/whats-new/" class="">What's new</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/about/key-concepts/" class="">Key concepts</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Installing</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/prerequisites/" class="">Prerequisites</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/planning/" class="">Planning your installation</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/overview/" class="">Installation overview</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/installing/" class="">Installing the Manager in an online environment</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/offline/" class="">Installing the Manager in an offline environment</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/deploy-gateways/" class="">Installing Event Gateways on the same cluster</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/standalone-gateways/" class="">Installing stand-alone Event Gateways</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/configuring/" class="active">Configuring</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/post-installation/" class="">Post-installation tasks</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/backup-restore/" class="">Backing up and restoring</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/uninstalling/" class="">Uninstalling</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/installing/upgrading/" class="">Upgrading</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Getting started</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/getting-started/logging-in/" class="">Logging in</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Security</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/security/managing-access/" class="">Managing access</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/security/user-roles/" class="">Managing user roles</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/security/verifying-signature/" class="">Verifying container image signatures</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/security/network-policies/" class="">Network policies</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/security/gdpr-considerations/" class="">Considerations for GDPR</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Describe and publish</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/describe/adding-topics/" class="">Describing event sources</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/describe/managing-topics/" class="">Managing topics</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/describe/managing-clusters/" class="">Managing clusters</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/describe/publishing-topics/" class="">Publishing topics</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/describe/managing-user-access-to-topics/" class="">Managing user access to topics</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/describe/managing-gateways/" class="">Managing gateways</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Consume and subscribe</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/consume-subscribe/discovering-topics/" class="">Discovering topics</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/consume-subscribe/subscribing-to-topics/" class="">Subscribing to topics</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/consume-subscribe/setting-your-application-to-consume/" class="">Setting your application to consume from a topic</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Integrating with IBM API Connect</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/integrating-with-apic/overview/" class="">Integration overview</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/integrating-with-apic/configure-eem-for-apic/" class="">Configure the Manager as an Event Gateway Service</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/integrating-with-apic/export-asyncapi/" class="">Export an AsyncAPI for use in API Connect</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Reference</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/reference/api-reference/" class="">API reference for the CRDs</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Troubleshooting</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/troubleshooting/intro/" class="">Troubleshooting overview</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/troubleshooting/gathering-logs/" class="">Gathering logs</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/troubleshooting/trace-logging/" class="">Configuring trace logging</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/troubleshooting/no-such-algorithm-log/" class="">No such algorithm exception log</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/troubleshooting/evicted-gateway/" class="">Event Gateway in 'Evicted' state</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/eem/troubleshooting/invalid-async-api/" class="">Invalid exported Async API for API Connect</a>
            </li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  
  </div>


  <div class="mainContent">
    
    <div id="pageContainer" class="page" itemscope itemtype="http://schema.org/CreativeWork">
      
      <div class="page__inner-wrap  latestVersion">
      

        
        <section class="page__content pageSpacing" itemprop="text">
          
        
          <header>
            <h1 id="page-title" class="page__title" itemprop="headline">
              Configuring
</h1>
            
          </header>  
        
        

                    
          <div class="content">
            <h2 id="setting-environment-variables">Setting environment variables</h2>

<p>You can configure Event Endpoint Management or Event Gateway by setting environment variables. This is done by providing a template override(<code class="language-plaintext highlighter-rouge">env</code>) which specifies one or more name-value pairs.</p>

<p>The format for Event Endpoint Management instances is:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">spec</span><span class="pi">:</span>
  <span class="na">manager</span><span class="pi">:</span>
    <span class="na">template</span><span class="pi">:</span>
      <span class="na">pod</span><span class="pi">:</span>
        <span class="na">spec</span><span class="pi">:</span>
          <span class="na">containers</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">manager</span>
              <span class="na">env</span><span class="pi">:</span>
                <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">&lt;name&gt;</span>
                  <span class="na">value</span><span class="pi">:</span> <span class="s">&lt;value&gt;</span>
</code></pre></div></div>

<p>The format for Event Gateway instances is:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">spec</span><span class="pi">:</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">pod</span><span class="pi">:</span>
      <span class="na">spec</span><span class="pi">:</span>
        <span class="na">containers</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">egw</span>
            <span class="na">env</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">&lt;name&gt;</span>
                <span class="na">value</span><span class="pi">:</span> <span class="s">&lt;value&gt;</span>
</code></pre></div></div>

<p>Where:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">&lt;name&gt;</code> is the specification that you want to configure.</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;value&gt;</code> is the value to configure the specification.</li>
</ul>

<p>For example, to enable trace logging in the Manager:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">spec</span><span class="pi">:</span>
  <span class="na">manager</span><span class="pi">:</span>
    <span class="na">template</span><span class="pi">:</span>
      <span class="na">pod</span><span class="pi">:</span>
        <span class="na">spec</span><span class="pi">:</span>
          <span class="na">containers</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">manager</span>
              <span class="na">env</span><span class="pi">:</span>
                <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">TRACE_SPEC</span>
                  <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">&lt;package&gt;:&lt;trace</span><span class="nv"> </span><span class="s">level&gt;"</span>
</code></pre></div></div>

<h2 id="enabling-persistent-storage">Enabling persistent storage</h2>

<p>To persist the data input into a Event Endpoint Management instance, configure persistent storage in your <code class="language-plaintext highlighter-rouge">EventEndpointManagement</code> configuration.</p>

<p>To enable persistent storage for <code class="language-plaintext highlighter-rouge">EventEndpointManagement</code> , set <code class="language-plaintext highlighter-rouge">spec.manager.storage.type</code> to <code class="language-plaintext highlighter-rouge">persistent-claim</code>, and then configure the storage in one of the following ways:</p>

<ul>
  <li><a href="#Dynamic-provisioning">dynamic provisioning</a></li>
  <li><a href="#Providing-persistent-volume">providing persistent volume</a></li>
  <li><a href="#Providing-persistent-volume-and-persistent-volume-claim">providing persistent volume and persistent volume claim</a>.</li>
</ul>

<p>Ensure that you have sufficient disk space for persistent storage.</p>

<p><strong>Note:</strong> <code class="language-plaintext highlighter-rouge">spec.manager.storage.type</code> can also be set to <code class="language-plaintext highlighter-rouge">ephemeral</code>, although no persistence is provisioned with this configuration. This is not recommended for production usage because it results in lost data.</p>

<h3 id="dynamic-provisioning">Dynamic provisioning</h3>

<p>If there is a <a href="https://docs.openshift.com/container-platform/4.12/storage/dynamic-provisioning.html">dynamic storage provisioner</a> present on the system, you can use the dynamic storage provisioner to dynamically provision the persistence for Event Endpoint Management.
To configure this, set <code class="language-plaintext highlighter-rouge">spec.manager.storage.storageClassName</code> to the name of the storage class provided by the provisioner.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">events.ibm.com/v1beta1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">EventEndpointManagement</span>
<span class="c1"># ...</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">license</span><span class="pi">:</span>
    <span class="c1"># ...</span>
  <span class="na">manager</span><span class="pi">:</span>
    <span class="na">storage</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">persistent-claim</span>
      <span class="na">storageClassName</span><span class="pi">:</span> <span class="s">csi-cephfs</span>
<span class="c1"># ...</span>
</code></pre></div></div>

<ul>
  <li>Optionally, specify the storage size in <code class="language-plaintext highlighter-rouge">storage.size</code> (for example, <code class="language-plaintext highlighter-rouge">"100GiB"</code>).</li>
  <li>Optionally, specify the root storage path where data is stored in <code class="language-plaintext highlighter-rouge">storage.root</code> (for example, <code class="language-plaintext highlighter-rouge">"/opt"</code>).</li>
  <li>Optionally, specify the retention setting for the storage if the instance is deleted in <code class="language-plaintext highlighter-rouge">storage.deleteClaim</code> (for example, <code class="language-plaintext highlighter-rouge">"true"</code>).</li>
</ul>

<h3 id="providing-persistent-volume">Providing persistent volume</h3>

<p>Before installing  Event Endpoint Management, you can create a persistent volume for it to use as storage.
To use a persistent volume, set the <code class="language-plaintext highlighter-rouge">spec.manager.storage.selectors</code> to match the labels on the persistent volume created before installing  Event Endpoint Management.
The following example creates a persistent volume claim to bind to a persistent volume with the label <code class="language-plaintext highlighter-rouge">precreated-persistence: my-pv</code>.
Multiple labels can be added as selectors and the persistent volume must have all labels present to match.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">events.ibm.com/v1beta1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">EventEndpointManagement</span>
<span class="c1"># ...</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">license</span><span class="pi">:</span>
    <span class="c1"># ...</span>
  <span class="na">manager</span><span class="pi">:</span>
    <span class="na">storage</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">persistent-claim</span>
      <span class="na">selectors</span><span class="pi">:</span>
        <span class="na">precreated-persistence</span><span class="pi">:</span> <span class="s">my-pv</span>
<span class="c1"># ...</span>

</code></pre></div></div>

<ul>
  <li>Optionally, specify the storage size in <code class="language-plaintext highlighter-rouge">storage.size</code> (for example, <code class="language-plaintext highlighter-rouge">"100GiB"</code>).</li>
  <li>Optionally, specify the root storage path where data is stored in <code class="language-plaintext highlighter-rouge">storage.root</code> (for example, <code class="language-plaintext highlighter-rouge">"/opt"</code>).</li>
  <li>Optionally, specify the retention setting for the storage if the instance is deleted in <code class="language-plaintext highlighter-rouge">storage.deleteClaim</code> (for example, <code class="language-plaintext highlighter-rouge">"true"</code>).</li>
</ul>

<h3 id="providing-persistent-volume-and-persistent-volume-claim">Providing persistent volume and persistent volume claim</h3>

<p>A persistent volume and persistent volume claim can be pre-created for Event Endpoint Management to use as storage.
To use this method, set <code class="language-plaintext highlighter-rouge">spec.manager.storage.existingClaimName</code> to match the name of the pre-created persistent volume claim.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">events.ibm.com/v1beta1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">EventEndpointManagement</span>
<span class="c1"># ...</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">license</span><span class="pi">:</span>
    <span class="c1"># ...</span>
  <span class="na">manager</span><span class="pi">:</span>
    <span class="na">storage</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">persistent-claim</span>
      <span class="na">existingClaimName</span><span class="pi">:</span> 
<span class="c1"># ...</span>
</code></pre></div></div>

<h2 id="configuring-tls">Configuring TLS</h2>

<p>TLS can be configured for the <code class="language-plaintext highlighter-rouge">EventEndpointManagement</code> instance in one of the following ways:</p>

<ul>
  <li><a href="#Operator-configured-CA-certificate">Operator configured CA certificate</a></li>
  <li><a href="#User-provided-CA-certificate">User provided CA certificate</a></li>
  <li><a href="#User-provided-certificates">User provided certificates</a></li>
  <li><a href="#User-provided-UI-certificates">User provided UI certificates</a></li>
</ul>

<p>After the TLS is configured for the <code class="language-plaintext highlighter-rouge">EventEndpointManagement</code> instance, the TLS for the <code class="language-plaintext highlighter-rouge">EventGateway</code> instance must be configured. TLS can be configured for the <code class="language-plaintext highlighter-rouge">EventGateway</code> instance in one of the following ways:</p>

<ul>
  <li><a href="#Operator-configured-CA-certificate">Using CA certificate</a></li>
  <li><a href="#User-provided-CA-certificate-for-EventGateway">User provided certificate for EventGateway</a></li>
</ul>

<h3 id="operator-configured-ca-certificate">Operator configured CA certificate</h3>

<p>By default, the operator configures TLS if no value is provided for CA certificate.
The operator uses the IBM Cert Manager installed on the system to generate a CA certificate with a self-signed issuer. It then uses this self-signed CA certificate to sign the certificates used for secure communication by the Event Endpoint Management instance.
IBM Cert Manager puts the CA certificate into a secret named <code class="language-plaintext highlighter-rouge">&lt;my-instance&gt;-ibm-eem-manager-ca</code>. This secret can be used for configuring the <code class="language-plaintext highlighter-rouge">EventGateway</code> TLS communications.</p>

<h3 id="user-provided-ca-certificate">User provided CA certificate</h3>

<p>A custom CA certificate can be provided to the Event Endpoint Management instance.
The operator uses the IBM Cert Manager installed on the system to use this provided CA certificate to sign the certificates used for secure communication by the Event Endpoint Management instance.
To provide a custom CA certificate, set <code class="language-plaintext highlighter-rouge">spec.manager.tls.caSecretName</code> to the name of the secret that contains the CA certificate.</p>

<p>The following code snippet is an example of a configuration that uses a user provided CA certificate:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">events.ibm.com/v1beta1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">EventEndpointManagement</span>
<span class="c1"># ...</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">license</span><span class="pi">:</span>
    <span class="c1"># ...</span>
  <span class="na">manager</span><span class="pi">:</span>
    <span class="na">tls</span><span class="pi">:</span>
      <span class="na">caSecretName</span><span class="pi">:</span> <span class="s">myCASecret</span>
<span class="c1"># ...</span>
</code></pre></div></div>

<p><strong>Note:</strong> The secret that is referenced here must contain the keys <code class="language-plaintext highlighter-rouge">ca.crt</code>, <code class="language-plaintext highlighter-rouge">tls.crt</code>, <code class="language-plaintext highlighter-rouge">tls.key</code>. The <code class="language-plaintext highlighter-rouge">ca.crt</code> key and the <code class="language-plaintext highlighter-rouge">tls.crt</code> key can have the same value.</p>

<h3 id="user-provided-certificates">User-provided certificates</h3>

<p>A custom certificate can be used for secure communication by the Event Endpoint Management instance.
This method does not use the IBM Certificate Manager so the certificates that are provided must be managed by the user.
To use a custom certificate, set <code class="language-plaintext highlighter-rouge">spec.manager.tls.secretName</code> to the name of the secret that contains a CA certificate, server certificate, and a key that has the required DNS names for accessing the Event Endpoint Management Manager.</p>

<p>The following code snippet is an example of a configuration that uses a user-provided certificate:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">events.ibm.com/v1beta1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">EventEndpointManagement</span>
<span class="c1"># ...</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">license</span><span class="pi">:</span>
    <span class="c1"># ...</span>
  <span class="na">manager</span><span class="pi">:</span>
    <span class="na">tls</span><span class="pi">:</span>
      <span class="na">secretName</span><span class="pi">:</span> <span class="s">mySecret</span>
<span class="c1"># ...</span>
</code></pre></div></div>

<ul>
  <li>Optionally, specify the key in the secret that is pointing to the CA certificate <code class="language-plaintext highlighter-rouge">tls.caCertificate</code> (default, <code class="language-plaintext highlighter-rouge">ca.crt</code>).</li>
  <li>Optionally, specify the key in the secret that is pointing to the server certificate <code class="language-plaintext highlighter-rouge">tls.serverCertificate</code> (default, <code class="language-plaintext highlighter-rouge">tls.crt</code>).</li>
  <li>Optionally, specify the key in the secret that is pointing to the private key <code class="language-plaintext highlighter-rouge">tls.key</code> (default, <code class="language-plaintext highlighter-rouge">tls.key</code>).</li>
</ul>

<h3 id="user-provided-ui-certificates">User-provided UI certificates</h3>

<p>A separate custom certificate can be used for the UI. This certificate is presented to the browser when the Event Endpoint Management user interface is navigated.
To supply a custom certificate to the UI set <code class="language-plaintext highlighter-rouge">spec.manager.tls.ui.secretName</code> to be the name of the secret containing the certificate.</p>

<p>The following code snippet is an example of a configuration that uses a user-provided certificate:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">events.ibm.com/v1beta1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">EventEndpointManagement</span>
<span class="c1"># ...</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">license</span><span class="pi">:</span>
    <span class="c1"># ...</span>
  <span class="na">manager</span><span class="pi">:</span>
    <span class="na">tls</span><span class="pi">:</span>
      <span class="na">ui</span><span class="pi">:</span>
        <span class="na">secretName</span><span class="pi">:</span> <span class="s">myUiSecret</span>
<span class="c1"># ...</span>
</code></pre></div></div>

<ul>
  <li>Optionally, specify the key in the secret that is pointing to the CA certificate <code class="language-plaintext highlighter-rouge">ui.caCertificate</code> (default, <code class="language-plaintext highlighter-rouge">ca.crt</code>).</li>
  <li>Optionally, specify the key in the secret that is pointing to the server certificate <code class="language-plaintext highlighter-rouge">ui.serverCertificate</code> (default, <code class="language-plaintext highlighter-rouge">tls.crt</code>).</li>
  <li>Optionally, specify the key in the secret that is pointing to the private key <code class="language-plaintext highlighter-rouge">ui.key</code> (default, <code class="language-plaintext highlighter-rouge">tls.key</code>).</li>
</ul>

<h3 id="using-ca-certificate">Using CA certificate</h3>

<p>A CA certificate can be used to securely connect a <code class="language-plaintext highlighter-rouge">EventGateway</code> instance to an <code class="language-plaintext highlighter-rouge">EventEndpointManagement</code> instance.
To use a CA certificate in the <code class="language-plaintext highlighter-rouge">EventGateway</code> configuration, set <code class="language-plaintext highlighter-rouge">spec.tls.caSecretName</code> to be the name of the secret that contains the CA certificate.
The CA certificate that is provided is used to sign the leaf certificates that are used by the <code class="language-plaintext highlighter-rouge">EventGateway instance</code> for secure communication.
The CA certificate that is provided for the <code class="language-plaintext highlighter-rouge">EventGateway</code> instance should be the same CA certificate that is provided when configuring the TLS for the <code class="language-plaintext highlighter-rouge">EventEndpointManagement</code> instance.</p>

<p>The following code snippet is an example of an <code class="language-plaintext highlighter-rouge">EventGateway</code> configuration that uses a user-provided CA certificate:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">events.ibm.com/v1beta1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">EventGateway</span>
<span class="c1"># ...</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">license</span><span class="pi">:</span>
    <span class="c1"># ...</span>
  <span class="na">tls</span><span class="pi">:</span>
    <span class="na">caSecretName</span><span class="pi">:</span> <span class="s">&lt;my-instance&gt;-ibm-eem-manager-ca</span>
<span class="c1"># ...</span>
</code></pre></div></div>

<h3 id="user-provided-certificate-for-eventgateway">User-provided certificate for EventGateway</h3>

<p>A custom certificate can be used for secure communication by the Event Endpoint Management instance.
This method does not use the IBM Certificate Manager so the certificates that are provided must be managed by the user.
To use a custom certificate set <code class="language-plaintext highlighter-rouge">spec.tls.secretName</code> to be the name of the secret that contains a CA certificate, server certificate, and a key that has the required DNS names for accessing the manager.</p>

<p>The following code snippet is an example of an <code class="language-plaintext highlighter-rouge">EventGateway</code> configuration that uses a user-provided certificate:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">events.ibm.com/v1beta1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">EventGateway</span>
<span class="c1"># ...</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">license</span><span class="pi">:</span>
    <span class="c1"># ...</span>
  <span class="na">tls</span><span class="pi">:</span>
    <span class="na">secretName</span><span class="pi">:</span> <span class="s">mySecret</span>
<span class="c1"># ...</span>
</code></pre></div></div>

<ul>
  <li>Optionally, specify the key in the secret that is pointing to the CA certificate <code class="language-plaintext highlighter-rouge">tls.caCertificate</code> (default, <code class="language-plaintext highlighter-rouge">ca.crt</code>).</li>
  <li>Optionally, specify the key in the secret that is pointing to the server certificate <code class="language-plaintext highlighter-rouge">tls.serverCertificate</code> (default, <code class="language-plaintext highlighter-rouge">tls.crt</code>).</li>
  <li>Optionally, specify the key in the secret that is pointing to the private key <code class="language-plaintext highlighter-rouge">tls.key</code> (default, <code class="language-plaintext highlighter-rouge">tls.key</code>).</li>
</ul>

<p>When a custom certificate is used for the <code class="language-plaintext highlighter-rouge">EventEndpointManagement</code> instance and the <code class="language-plaintext highlighter-rouge">EventGateway</code> instance in this way, it is required that each instance trusts the certificates of the other. To ensure an instance trusts another, the certificates that are provided to the configuration of one instance must be added to the list of <code class="language-plaintext highlighter-rouge">tls.trustedCertificates</code> on the other instance.
The following code snippet is an example configuration that uses custom certificates for the <code class="language-plaintext highlighter-rouge">EventEndpointManagement</code> instance and the <code class="language-plaintext highlighter-rouge">EventGateway</code> instance.</p>

<p><strong>Note:</strong> The <code class="language-plaintext highlighter-rouge">EventEndpointManagement</code> instance uses the secret <code class="language-plaintext highlighter-rouge">myManagementCert</code> and <code class="language-plaintext highlighter-rouge">trustedCertificates</code> secret is <code class="language-plaintext highlighter-rouge">myGatewayCert</code>, whereas the <code class="language-plaintext highlighter-rouge">EventGateway</code> instance uses the <code class="language-plaintext highlighter-rouge">myGatewayCert</code> secret and trusts the <code class="language-plaintext highlighter-rouge">myManagementCert</code> secret.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">events.ibm.com/v1beta1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">EventEndpointManagement</span>
<span class="c1"># ...</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">license</span><span class="pi">:</span>
    <span class="c1"># ...</span>
  <span class="na">manager</span><span class="pi">:</span>
    <span class="na">tls</span><span class="pi">:</span>
      <span class="na">secretName</span><span class="pi">:</span> <span class="s">myManagementCert</span>
      <span class="na">caCertificate</span><span class="pi">:</span> <span class="s">ca.crt</span>
      <span class="na">serverCertificate</span><span class="pi">:</span> <span class="s">tls.crt</span>
      <span class="na">key</span><span class="pi">:</span> <span class="s">tls.key</span>
      <span class="na">trustedCertificates</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">secretName</span><span class="pi">:</span> <span class="s">myGatewayCert</span>
          <span class="na">certificate</span><span class="pi">:</span> <span class="s">ca.crt</span>
<span class="c1"># ...</span>
<span class="nn">---</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">events.ibm.com/v1beta1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">EventGateway</span>
<span class="c1"># ...</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">license</span><span class="pi">:</span>
    <span class="c1"># ...</span>
  <span class="na">tls</span><span class="pi">:</span>
    <span class="na">secretName</span><span class="pi">:</span> <span class="s">myGatewayCert</span>
    <span class="na">caCertificate</span><span class="pi">:</span> <span class="s">ca.crt</span>
    <span class="na">serverCertificate</span><span class="pi">:</span> <span class="s">tls.crt</span>
    <span class="na">key</span><span class="pi">:</span> <span class="s">tls.key</span>
    <span class="na">trustedCertificates</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">secretName</span><span class="pi">:</span> <span class="s">myManagementCert</span>
        <span class="na">certificate</span><span class="pi">:</span> <span class="s">ca.crt</span>
<span class="c1"># ...</span>
</code></pre></div></div>

<h2 id="configuring-authentication">Configuring authentication</h2>

<p>Authentication is configured in the <code class="language-plaintext highlighter-rouge">EventEndpointManagement</code> configuration.</p>

<p>Two types of authentication are available: LOCAL and OIDC. For more information, see <a href="../../security/managing-access">managing access</a>.</p>

<h2 id="deploy-network-policies">Deploy network policies</h2>

<p>By default, the operator deploys an instance-specific network policy when an instance of <code class="language-plaintext highlighter-rouge">EventEndpointManagement</code> or <code class="language-plaintext highlighter-rouge">EventGateway</code> is created.
The deployment of these network policies can be turned off by setting the <code class="language-plaintext highlighter-rouge">spec.deployNetworkPolicies</code> to <code class="language-plaintext highlighter-rouge">false</code>.</p>

<p>The following code snippet is an example of a configuration that turns off the deployment of the network policy:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">events.ibm.com/v1beta1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">EventEndpointManagement</span>
<span class="c1"># ...</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">license</span><span class="pi">:</span>
    <span class="c1"># ...</span>
  <span class="na">deployNetworkPolicies</span><span class="pi">:</span> <span class="no">false</span>  
<span class="c1"># ...</span>
<span class="nn">---</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">events.ibm.com/v1beta1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">EventGateway</span>
<span class="c1"># ...</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">license</span><span class="pi">:</span>
    <span class="c1"># ...</span>
  <span class="na">deployNetworkPolicies</span><span class="pi">:</span> <span class="no">false</span>  
</code></pre></div></div>

          </div>


          
        </section>

        <aside class="sidebar__right ">
          
          <div class="fixedSidebar">
            <nav class="toc">
              <ul class="toc__menu">
  <li><a href="#setting-environment-variables">Setting environment variables</a></li>
  <li><a href="#enabling-persistent-storage">Enabling persistent storage</a>
    <ul>
      <li><a href="#dynamic-provisioning">Dynamic provisioning</a></li>
      <li><a href="#providing-persistent-volume">Providing persistent volume</a></li>
      <li><a href="#providing-persistent-volume-and-persistent-volume-claim">Providing persistent volume and persistent volume claim</a></li>
    </ul>
  </li>
  <li><a href="#configuring-tls">Configuring TLS</a>
    <ul>
      <li><a href="#operator-configured-ca-certificate">Operator configured CA certificate</a></li>
      <li><a href="#user-provided-ca-certificate">User provided CA certificate</a></li>
      <li><a href="#user-provided-certificates">User-provided certificates</a></li>
      <li><a href="#user-provided-ui-certificates">User-provided UI certificates</a></li>
      <li><a href="#using-ca-certificate">Using CA certificate</a></li>
      <li><a href="#user-provided-certificate-for-eventgateway">User-provided certificate for EventGateway</a></li>
    </ul>
  </li>
  <li><a href="#configuring-authentication">Configuring authentication</a></li>
  <li><a href="#deploy-network-policies">Deploy network policies</a></li>
</ul>
            </nav>
          </div>
          
        </aside>


      </div>
      <div class="pageEnd">
        
          
  <nav class="pagination">
    
      <div class="previous" onclick="window.open('/event-automation/eem/installing/standalone-gateways/','_self')">
        <div class="container">
          <a href="/event-automation/eem/installing/standalone-gateways/" class="pagination--pager" title="Previous Item: Installing stand-alone Event Gateways
">Previous</a>
          <h2 class="titlePreview">Installing stand-alone Event Gateways
</h2>
        </div>
      </div>
    
    
      <div class="next" onclick="window.open('/event-automation/eem/installing/post-installation/','_self')">
        <div class="container">
          <a href="/event-automation/eem/installing/post-installation/" class="pagination--pager" title="Next Item: Post-installation tasks
">Next</a>
          <h2 class="titlePreview">Post-installation tasks
</h2>
        </div>
      </div>
      
  </nav>

        
      </div>
    </div>


  </div> <!-- Main content -->

</main></div>


    
      <div class="page__footer">
          <footer>
            <!-- start custom footer snippets -->

<!-- end custom footer snippets -->

            
<div class="page__footer-copyright"><a href="https://www.ibm.com/privacy/us/en/" rel="nofollow" target="_blank">Privacy Policy</a>  &nbsp; Copyright IBM Corporation 2023</br>
<a href="http://localhost:4000/event-automation/accessibility/" rel="nofollow" target="_blank">Accessibility</a> </br> <a href="http://localhost:4000/event-automation/notices/" rel="nofollow" target="_blank">Notices</a></br>
          </footer>
      </div>      
    


    
  <script src="/event-automation/assets/js/main.min.js"></script>
  <!-- <script src="https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script> -->






<script src="/event-automation/assets/js/design.js"></script>





<script src="/event-automation/assets/js/lunr/lunr.min.js"></script>
<script src="/event-automation/assets/js/lunr/lunr-store.js"></script>
<script src="/event-automation/assets/js/lunr/lunr-en.js"></script>





    

    
  </body>
</html>
