<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Running the MQ sink connector - IBM Event Automation</title>
<meta name="description" content="Running MQ sink connector">

<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="IBM Event Automation">
<meta property="og:url" content="http://localhost:4000/event-automation/es/connecting/mq/sink/" />
<meta property="og:title" content="Event Streams | Running the MQ sink connector" />
<meta property="og:description" content="Running MQ sink connector" />

<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="IBM Event Automation | Running the MQ sink connector" />




  <meta property="og:description" content="Running MQ sink connector">



  <meta property="og:image" content="http://localhost:4000/event-automation/assets/siteMeta/appIcon_og_fb.png">
  <meta name="twitter:image" content="http://localhost:4000/event-automation/assets/siteMeta/appIcon_og_square.png">



  <meta property="article:published_time" content="2023-06-28T12:13:19-04:00">






<link rel="canonical" href="http://localhost:4000/event-automation/es/connecting/mq/sink/">





  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "http://localhost:4000/event-automation",
      "logo": "http://localhost:4000/event-automation/assets/siteMeta/appIcon_og_fb.png"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": null,
      "url": "http://localhost:4000/event-automation",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/event-automation/feed.xml" type="application/atom+xml" rel="alternate" title="IBM Event Automation Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/event-automation/assets/css/main.css">



<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<link rel="apple-touch-icon" sizes="180x180" href="http://localhost:4000/event-automation/assets/siteMeta/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:4000/event-automation/assets/siteMeta/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:4000/event-automation/assets/siteMeta/favicon-16x16.png">
<link rel="manifest" href="http://localhost:4000/event-automation/assets/siteMeta/site.webmanifest">
<link rel="mask-icon" href="http://localhost:4000/event-automation/assets/siteMeta/safari-pinned-tab.svg" color="#000000">
<link rel="shortcut icon" href="http://localhost:4000/event-automation/assets/siteMeta/favicon.ico">
<link rel="shortcut icon" type="image/png" href="http://localhost:4000/event-automation/assets/siteMeta/favicon-16x16.png"/>
<link rel="shortcut icon" type="image/png" href="http://localhost:4000/event-automation/assets/siteMeta/favicon-32x32.png"/>
<meta name="msapplication-TileColor" content="#000000">
<meta name="msapplication-config" content="http://localhost:4000/event-automation/assets/siteMeta/browserconfig.xml">
<meta name="theme-color" content="#000000">



<link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,600%7CIBM+Plex+Serif:300,400,500%7CIBM+Plex+Mono:300,400,500,700" rel="stylesheet">

<!-- end custom head snippets -->

    <link rel="shortcut icon" type="image/x-icon" href="/event-automation/assets/favicon.ico" >
    
    <base target="_parent">

  </head>
  <script src="/event-automation/assets/animation/lottie.js" type="text/javascript"></script>
  <script src="/event-automation/assets/js/connectors.js"></script>


  
  <body onload="urlChecker()" class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    




<div id="masthead" class="masthead">
  <!--
  <div class="masthead__goToIBMCloud">
  <div>
    You are viewing the documentation for the container-native version of IBM Event Automation.
  </div>
    <a class="link" target="_self" href="https://cloud.ibm.com/docs/EventStreams?topic=EventStreams-getting-started">Looking for the managed service on IBM Cloud? Click here.</a>
</div>
-->
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="mastheadNav">

      


        <div class="mastheadTitle">
          
          <a class="site-title" href="/event-automation/" target="_self"><span>IBM</span>&nbsp;Event Automation</a>
          <div class="viewOnIBMcom">
            <a href="https://www.ibm.com/products/event-automation" target="_blank">View product page</a>
          </div>
        </div>









        <div class="mastheadControls">
            <div class="menuScrollContainer">

        

                <ul id="visible-links" class="visible-links">
                  
                  
                  

                  




                  
                    <li class="masthead__menu-item active" onclick="window.open('http://localhost:4000/event-automation/es/','_self')">
                      <a href="http://localhost:4000/event-automation/es/" >Event Streams</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/eem/','_self')">
                      <a href="http://localhost:4000/event-automation/eem/" >Endpoint Management</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/ep/','_self')">
                      <a href="http://localhost:4000/event-automation/ep/" >Event Processing</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/connectors/','_self')">
                      <a href="http://localhost:4000/event-automation/connectors/" >Connectors</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/tutorials/','_self')">
                      <a href="http://localhost:4000/event-automation/tutorials/" >Tutorials</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/api/','_self')">
                      <a href="http://localhost:4000/event-automation/api/" >APIs...</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/support/','_self')">
                      <a href="http://localhost:4000/event-automation/support/" >Support</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/search/','_self')">
                      <button aria-label="Search Button" role="button" id="searchButton" class="search__toggle " type="button" name="search Button">
                        <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                          <path
                            d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z"
                            transform="translate(-.01)"></path>
                        </svg>
                      </button>
                    </li>
                  

                  
                </ul>
        

      </div>
    </div>
      </nav>
    </div>
  </div>
</div>


    <div id="initial-content" class="initial-content" role="main">






<main id="main" class="mainContainer" role="main">
    
      <div id="subMenu" class="subMenu">
        <div tabindex="0" class="menuIcon" id="menuIcon">
          <svg id="mobileMenu" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48">
            <g id="bottomLine">
              <line class="burgerLine" x1="14" y1="29" x2="34" y2="29" />
            </g>
            <g id="middleLine">
              <line class="burgerLine" x1="14" y1="24" x2="34" y2="24" />
            </g>
            <g id="topLine">
              <line class="burgerLine" x1="14" y1="19" x2="34" y2="19" />
            </g>
          </svg>
        </div>
        <div id="mobileVersionShortcut" class="versionContainer" tabindex="0">
          <a id="mobileVersionPillCurrent" class="versionPill">11.2</a>
        </div>
      </div>
    
  



<div id="sidebarMask" class="sidebarMask">

  </div>
  <div id="sidebar" class="sidebar sticky">
      <div aria-label="Change Version" role="button" aria-expanded="false"
      
        id="versionDropdown"
        tabindex="0"
        class="versionsBar"
       >
          <div class="selectedVersion" id="selectedVersion">
            <div class="versionContainer" >
              
                <a id="versionPillCurrent" class="versionPill">11.2</a>
                <a class="versionChange">Change Version</a>
              
            </div>
          </div>
          


          <div class="allVersions" id="allVersions">
            <ul>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/connecting/mq/sink/" onclick="openVersion('/event-automation/es/connecting/mq/sink/','es_11.2')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/connecting/mq/sink/" class="versionPill active">11.2</a>
                      </div>
                      <div class="activeContainer">
                        
                          <img alt="" src="http://localhost:4000/event-automation/images/checkbox.svg" />
                        
                      </div>
                      <div class="latest">
                        Latest
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_11.1/connecting/mq/sink/" onclick="openVersion('/event-automation/es/es_11.1/connecting/mq/sink/','es_11.1')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_11.1/connecting/mq/sink/" class="versionPill inactive">11.1</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_11.0/connecting/mq/sink/" onclick="openVersion('/event-automation/es/es_11.0/connecting/mq/sink/','es_11.0')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_11.0/connecting/mq/sink/" class="versionPill inactive">11.0</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_10.5/connecting/mq/sink/" onclick="openVersion('/event-automation/es/es_10.5/connecting/mq/sink/','es_10.5')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_10.5/connecting/mq/sink/" class="versionPill inactive">10.5</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_10.4/connecting/mq/sink/" onclick="openVersion('/event-automation/es/es_10.4/connecting/mq/sink/','es_10.4')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_10.4/connecting/mq/sink/" class="versionPill inactive">10.4</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_10.3/connecting/mq/sink/" onclick="openVersion('/event-automation/es/es_10.3/connecting/mq/sink/','es_10.3')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_10.3/connecting/mq/sink/" class="versionPill inactive">10.3</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_10.2/connecting/mq/sink/" onclick="openVersion('/event-automation/es/es_10.2/connecting/mq/sink/','es_10.2')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_10.2/connecting/mq/sink/" class="versionPill inactive">10.2</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_10.1/connecting/mq/sink/" onclick="openVersion('/event-automation/es/es_10.1/connecting/mq/sink/','es_10.1')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_10.1/connecting/mq/sink/" class="versionPill inactive">10.1</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_10.0/connecting/mq/sink/" onclick="openVersion('/event-automation/es/es_10.0/connecting/mq/sink/','es_10.0')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_10.0/connecting/mq/sink/" class="versionPill inactive">10.0</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_2019.4/connecting/mq/sink/" onclick="openVersion('/event-automation/es/es_2019.4/connecting/mq/sink/','es_2019.4')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_2019.4/connecting/mq/sink/" class="versionPill inactive">2019.4</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_2019.2.1/connecting/mq/sink/" onclick="openVersion('/event-automation/es/es_2019.2.1/connecting/mq/sink/','es_2019.2.1')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_2019.2.1/connecting/mq/sink/" class="versionPill inactive">2019.2.1</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_2019.1.1/connecting/mq/sink/" onclick="openVersion('/event-automation/es/es_2019.1.1/connecting/mq/sink/','es_2019.1.1')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_2019.1.1/connecting/mq/sink/" class="versionPill inactive">2019.1.1</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_2018.3.1/connecting/mq/sink/" onclick="openVersion('/event-automation/es/es_2018.3.1/connecting/mq/sink/','es_2018.3.1')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_2018.3.1/connecting/mq/sink/" class="versionPill inactive">2018.3.1</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

            </ul>
          </div>
        </div>

  
    
      
      
      
    
    
      

<nav class="nav__list">
  
  <ul class="nav__items">

    
      <li>
        
          <span class="nav__sub-title">About</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/about/overview/" class="">Introduction</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/about/whats-new/" class="">What's new</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/about/key-concepts/" class="">Key concepts</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/about/producing-messages/" class="">Producing messages</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/about/consuming-messages/" class="">Consuming messages</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/about/partition-leadership/" class="">Partition leadership</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Installing and upgrading</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/installing/trying-out/" class="">Trying out Event Streams</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/installing/prerequisites/" class="">Prerequisites</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/installing/planning/" class="">Planning your installation</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/installing/multizone-considerations/" class="">Considerations for multizone deployments</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/installing/capacity-planning/" class="">Performance and capacity planning</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/installing/preparing-multizone/" class="">Preparing for multizone clusters</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/installing/installing/" class="">Installing on OpenShift Container Platform</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/installing/installing-on-kubernetes/" class="">Installing on other Kubernetes platforms</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/installing/configuring/" class="">Configuring</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/installing/post-installation/" class="">Post-installation tasks</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/installing/moving-from-oss-kafka/" class="">Migrating from open-source Kafka</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/installing/uninstalling/" class="">Uninstalling</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/installing/upgrading/" class="">Upgrading and migrating</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Getting started</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/getting-started/logging-in/" class="">Logging in</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/getting-started/creating-topics/" class="">Creating a Kafka topic</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/getting-started/generating-starter-app/" class="">Running a starter application</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/getting-started/testing-loads/" class="">Creating and testing message loads</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/getting-started/client/" class="">Creating Kafka client applications</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/getting-started/connecting/" class="">Connecting clients</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/getting-started/using-kafka-console-tools/" class="">Using Apache Kafka console tools</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Schemas</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/schemas/overview/" class="">Schemas overview</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/schemas/creating/" class="">Creating and adding schemas</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/schemas/manage-lifecycle/" class="">Managing schema lifecycle</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/schemas/setting-java-apps/" class="">Setting Java applications to use schemas</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/schemas/setting-nonjava-apps/" class="">Setting non-Java applications to use schemas</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/schemas/migrating/" class="">Migrating to Event Streams schema registry</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/schemas/using-with-rest-producer/" class="">Using schemas with the REST producer API</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/schemas/setting-java-apps-apicurio-serdes/" class="">Setting Java applications to use schemas with the Apicurio Registry serdes library</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Security</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/security/managing-access/" class="">Managing access</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/security/encrypting-data/" class="">Encrypting your data</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/security/secure-jmx-connections/" class="">Configuring secure JMX connections</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/security/renewing-certificates/" class="">Renewing certificates</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/security/verifying-signature/" class="">Verifying container image signatures</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/security/network-policies/" class="">Network policies</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/security/gdpr-considerations/" class="">Considerations for GDPR</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Geo-replication</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/georeplication/about/" class="">About geo-replication</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/georeplication/planning/" class="">Planning for geo-replication</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/georeplication/setting-up/" class="">Setting up geo-replication</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/georeplication/health/" class="">Monitoring and managing geo-replication</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/georeplication/failover/" class="">Switching clusters</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Connecting external systems</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/connecting/rest-api/" class="">Event Streams producer API</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/connecting/expose-service/" class="">Exposing services for external access</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/connecting/kafka-bridge/" class="">Kafka Bridge</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/connecting/connectors/" class="">Kafka Connect and connectors</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/connecting/setting-up-connectors/" class="">Setting up and running connectors</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/connecting/mq/" class="">Connecting to IBM MQ</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/connecting/mq/source/" class="">Running the MQ source connector</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/connecting/mq/sink/" class="active">Running the MQ sink connector</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/connecting/mq/zos/" class="">Running connectors on IBM z/OS</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Administering</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/administering/deployment-health/" class="">Monitoring deployment health</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/administering/cluster-health/" class="">Monitoring Kafka cluster health</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/administering/topic-health/" class="">Monitoring topic health</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/administering/consumer-lag/" class="">Monitoring consumer group lag</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/administering/tracing/" class="">Monitoring applications with distributed tracing</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/administering/external-monitoring/" class="">Monitoring with external tools</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/administering/modifying-installation/" class="">Modifying installation settings</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/administering/cruise-control/" class="">Optimizing Kafka cluster with Cruise Control</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/administering/scaling/" class="">Scaling</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/administering/quotas/" class="">Setting client quotas</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/administering/managing-multizone/" class="">Managing a multizone setup</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/administering/stopping-starting/" class="">Stopping and starting Event Streams</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Troubleshooting</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/troubleshooting/intro/" class="">Troubleshooting overview</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/troubleshooting/gathering-logs/" class="">Gathering logs</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/troubleshooting/resources-not-available/" class="">Resources not available</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/troubleshooting/es-install-fails/" class="">Event Streams installation reports Blocked status</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/troubleshooting/georeplication-error/" class="">Error when creating multiple geo-replicators</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/troubleshooting/kafka-producer-error/" class="">TimeoutException when using standard Kafka producer</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/troubleshooting/kafka-consumer-hangs/" class="">Standard Kafka consumer hangs</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/troubleshooting/cloudctl-es-not-registered/" class="">Command 'cloudctl es' fails with 'not a registered command' error</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/troubleshooting/cloudctl-es-fails/" class="">Command 'cloudctl es' produces 'FAILED' message</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/troubleshooting/chrome-ubuntu-issue/" class="">UI does not open when using Chrome on Ubuntu</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/troubleshooting/error-removing-destination/" class="">Unable to remove destination cluster</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/troubleshooting/ui-403-error/" class="">403 error when signing in</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/troubleshooting/default-scc-issues/" class="">Event Streams not installing due to Security Context Constraint (SCC) issues</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/troubleshooting/authorization-failed-exceptions/" class="">Client receives AuthorizationException when communicating with brokers</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/troubleshooting/pkcs12-keystore-java-client/" class="">Client receives 'Failed to load SSL keystore' message when communicating with brokers</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/troubleshooting/ocp-upgrade-fail/" class="">OpenShift upgrade: fixing scheduling on node and node degraded errors</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/troubleshooting/watched-namespace/" class="">Apicurio authentication errors due to User Operator watchedNamespace</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/troubleshooting/upgrade-apicurio/" class="">Clients using schemas fail with Apicurio 2.4.1 or later</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/troubleshooting/kafkarebalance-pendingproposal/" class="">KafkaRebalance custom resource remains in PendingProposal state</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/troubleshooting/default-psp-issues/" class="">Event Streams not installing due to Pod Security Policies (PSP) issues</a>
            </li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  
  </div>


  <div class="mainContent">
    
    <div id="pageContainer" class="page" itemscope itemtype="http://schema.org/CreativeWork">
      
      <div class="page__inner-wrap  latestVersion">
      

        
        <section class="page__content pageSpacing" itemprop="text">
          
        
          <header>
            <h1 id="page-title" class="page__title" itemprop="headline">
              Running the MQ sink connector
</h1>
            
          </header>  
        
        

                    
          <div class="content">
            <p>You can use the MQ sink connector to copy data from Event Streams or Apache Kafka into IBM MQ. The connector copies messages from a Kafka topic into a target MQ queue.</p>

<p>Kafka Connect can be run in standalone or distributed mode. This document contains steps for running the connector in distributed mode on a Kubernetes platform. In this mode, work balancing is automatic, scaling is dynamic, and tasks and data are fault-tolerant. For more details on the difference between standalone and distributed mode see the <a href="../../connectors/#workers">explanation of Kafka Connect workers</a>.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>To follow these instructions, ensure you have <a href="https://www.ibm.com/docs/en/ibm-mq/8.0" target="_blank">IBM MQ</a> v8 or later installed.</p>

<p><strong>Note:</strong> These instructions are for <a href="https://www.ibm.com/docs/en/ibm-mq/9.3" target="_blank">IBM MQ</a> v9 running on Linux. If you are using a different version or platform, you might have to adjust some steps slightly.</p>

<h2 id="setting-up-the-queue-manager">Setting up the queue manager</h2>

<p>You can set up a queue manager by using the local operating system to authenticate, or by using the IBM MQ Operator.</p>

<h3 id="by-using-local-operating-system-to-authenticate">By using local operating system to authenticate</h3>

<p>These sample instructions set up an IBM MQ queue manager that uses its local operating system to authenticate the user ID and password. The user ID and password you provide must already be created on the operating system where IBM MQ is running.</p>

<ol>
  <li>Log in as a user authorized to administer IBM MQ, and ensure the MQ commands are on the path.</li>
  <li>Create a queue manager with a TCP/IP listener on port 1414:
<code class="language-plaintext highlighter-rouge">crtmqm -p 1414 &lt;queue_manager_name&gt;</code>
for example to create a queue manager called <code class="language-plaintext highlighter-rouge">QM1</code> use <code class="language-plaintext highlighter-rouge">crtmqm -p 1414 QM1</code></li>
  <li>Start the queue manager:
<code class="language-plaintext highlighter-rouge">strmqm &lt;queue_manager_name&gt;</code></li>
  <li>Start the <code class="language-plaintext highlighter-rouge">runmqsc</code> tool to configure the queue manager:
<code class="language-plaintext highlighter-rouge">runmqsc &lt;queue_manager_name&gt;</code></li>
  <li>In <code class="language-plaintext highlighter-rouge">runmqsc</code>, create a server-connection channel:
<code class="language-plaintext highlighter-rouge">DEFINE CHANNEL(&lt;channel_name&gt;) CHLTYPE(SVRCONN)</code></li>
  <li>Set the channel authentication rules to accept connections requiring userid and password:
    <ol>
      <li><code class="language-plaintext highlighter-rouge">SET CHLAUTH(&lt;channel_name&gt;) TYPE(BLOCKUSER) USERLIST('nobody')</code></li>
      <li><code class="language-plaintext highlighter-rouge">SET CHLAUTH('*') TYPE(ADDRESSMAP) ADDRESS('*') USERSRC(NOACCESS)</code></li>
      <li><code class="language-plaintext highlighter-rouge">SET CHLAUTH(&lt;channel_name&gt;) TYPE(ADDRESSMAP) ADDRESS('*') USERSRC(CHANNEL) CHCKCLNT(REQUIRED)</code></li>
    </ol>
  </li>
  <li>Set the identity of the client connections based on the supplied context (the user ID):
<code class="language-plaintext highlighter-rouge">ALTER AUTHINFO(SYSTEM.DEFAULT.AUTHINFO.IDPWOS) AUTHTYPE(IDPWOS) ADOPTCTX(YES)</code></li>
  <li>Refresh the connection authentication information:
<code class="language-plaintext highlighter-rouge">REFRESH SECURITY TYPE(CONNAUTH)</code></li>
  <li>Create a queue for the Kafka Connect connector to use:
<code class="language-plaintext highlighter-rouge">DEFINE QLOCAL(&lt;queue_name&gt;)</code></li>
  <li>Authorize the IBM MQ user ID to connect to and inquire the queue manager:
   <code class="language-plaintext highlighter-rouge">SET AUTHREC OBJTYPE(QMGR) PRINCIPAL('&lt;user_id&gt;') AUTHADD(CONNECT,INQ)</code></li>
  <li>Authorize the IBM MQ user ID to use the queue:
   <code class="language-plaintext highlighter-rouge">SET AUTHREC PROFILE(&lt;queue_name&gt;) OBJTYPE(QUEUE) PRINCIPAL('&lt;user_id&gt;') AUTHADD(ALLMQI)</code></li>
  <li>Stop the <code class="language-plaintext highlighter-rouge">runmqsc</code> tool by typing <code class="language-plaintext highlighter-rouge">END</code>.</li>
</ol>

<p>For example, for a queue manager called <code class="language-plaintext highlighter-rouge">QM1</code>, with user ID <code class="language-plaintext highlighter-rouge">alice</code>, creating a server-connection channel called <code class="language-plaintext highlighter-rouge">MYSVRCONN</code> and a queue called <code class="language-plaintext highlighter-rouge">MYQSINK</code>, you run the following commands in <code class="language-plaintext highlighter-rouge">runmqsc</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DEFINE CHANNEL<span class="o">(</span>MYSVRCONN<span class="o">)</span> CHLTYPE<span class="o">(</span>SVRCONN<span class="o">)</span>
SET CHLAUTH<span class="o">(</span>MYSVRCONN<span class="o">)</span> TYPE<span class="o">(</span>BLOCKUSER<span class="o">)</span> USERLIST<span class="o">(</span><span class="s1">'nobody'</span><span class="o">)</span>
SET CHLAUTH<span class="o">(</span><span class="s1">'*'</span><span class="o">)</span> TYPE<span class="o">(</span>ADDRESSMAP<span class="o">)</span> ADDRESS<span class="o">(</span><span class="s1">'*'</span><span class="o">)</span> USERSRC<span class="o">(</span>NOACCESS<span class="o">)</span>
SET CHLAUTH<span class="o">(</span>MYSVRCONN<span class="o">)</span> TYPE<span class="o">(</span>ADDRESSMAP<span class="o">)</span> ADDRESS<span class="o">(</span><span class="s1">'*'</span><span class="o">)</span> USERSRC<span class="o">(</span>CHANNEL<span class="o">)</span> CHCKCLNT<span class="o">(</span>REQUIRED<span class="o">)</span>
ALTER AUTHINFO<span class="o">(</span>SYSTEM.DEFAULT.AUTHINFO.IDPWOS<span class="o">)</span> AUTHTYPE<span class="o">(</span>IDPWOS<span class="o">)</span> ADOPTCTX<span class="o">(</span>YES<span class="o">)</span>
REFRESH SECURITY TYPE<span class="o">(</span>CONNAUTH<span class="o">)</span>
DEFINE QLOCAL<span class="o">(</span>MYQSINK<span class="o">)</span>
SET AUTHREC OBJTYPE<span class="o">(</span>QMGR<span class="o">)</span> PRINCIPAL<span class="o">(</span><span class="s1">'alice'</span><span class="o">)</span> AUTHADD<span class="o">(</span>CONNECT,INQ<span class="o">)</span>
SET AUTHREC PROFILE<span class="o">(</span>MYQSINK<span class="o">)</span> OBJTYPE<span class="o">(</span>QUEUE<span class="o">)</span> PRINCIPAL<span class="o">(</span><span class="s1">'alice'</span><span class="o">)</span> AUTHADD<span class="o">(</span>ALLMQI<span class="o">)</span>
END
</code></pre></div></div>

<p>The queue manager is now ready to accept connection from the connector and put messages on a queue.</p>

<h3 id="by-using-the-ibm-mq-operator">By using the IBM MQ Operator</h3>

<p>You can also use IBM MQ Operator to set up a queue manager. For more information about installing the IBM MQ Operator and setting up a queue manager, see the <a href="https://www.ibm.com/docs/en/ibm-mq/9.3?topic=miccpi-using-mq-in-cloud-pak-integration-red-hat-openshift" target="_blank">IBM MQ documentation</a>.</p>

<p>If you are using IBM MQ Operator to set up a queue manager, you can use the following yaml to create a queue manager with the required configuration:</p>

<ol>
  <li>
    <p>Create a file called <code class="language-plaintext highlighter-rouge">custom-sink-mqsc-configmap.yaml</code> and copy the following YAML content to create the ConfigMap that has the details for creates a server-connection channel called <code class="language-plaintext highlighter-rouge">MYSVRCONN</code> and a queue called <code class="language-plaintext highlighter-rouge">MYQSINK</code>:</p>

    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ConfigMap</span>
<span class="na">metadata</span><span class="pi">:</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">custom-sink-mqsc</span>
<span class="na">data</span><span class="pi">:</span>
<span class="s">sink.mqsc</span><span class="pi">:</span> <span class="pi">|</span>
      <span class="s">DEFINE CHANNEL(MYSVRCONN) CHLTYPE(SVRCONN)</span>
      <span class="s">SET CHLAUTH(MYSVRCONN) TYPE(BLOCKUSER) USERLIST('nobody')</span>
      <span class="s">SET CHLAUTH('*') TYPE(ADDRESSMAP) ADDRESS('*') USERSRC(NOACCESS)</span>
      <span class="s">SET CHLAUTH(MYSVRCONN) TYPE(ADDRESSMAP) ADDRESS('*') USERSRC(CHANNEL) CHCKCLNT(REQUIRED)</span>
      <span class="s">ALTER AUTHINFO(SYSTEM.DEFAULT.AUTHINFO.IDPWOS) AUTHTYPE(IDPWOS) ADOPTCTX(YES)</span>
      <span class="s">REFRESH SECURITY TYPE(CONNAUTH)</span>
      <span class="s">DEFINE QLOCAL(MYQSINK)</span>
      <span class="s">SET AUTHREC OBJTYPE(QMGR) PRINCIPAL('alice') AUTHADD(CONNECT,INQ)</span>
      <span class="s">SET AUTHREC PROFILE(MYQSINK) OBJTYPE(QUEUE) PRINCIPAL('alice') AUTHADD(ALLMQI)</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Create the ConfigMap by using the following command:</p>

    <p><code class="language-plaintext highlighter-rouge">oc apply -f custom-sink-mqsc-configmap.yaml</code></p>
  </li>
  <li>
    <p>To create a queue manager with the required configuration, update the <code class="language-plaintext highlighter-rouge">spec.queueManager</code> section of the <code class="language-plaintext highlighter-rouge">QueueManager</code> custom resource YAML file:</p>

    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">...</span>
<span class="na">queueManager</span><span class="pi">:</span>
   <span class="s">...</span>
   <span class="s">mqsc</span><span class="pi">:</span>
   <span class="pi">-</span> <span class="na">configMap</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">custom-sink-mqsc</span>
      <span class="na">items</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">sink.mqsc</span>
</code></pre></div>    </div>
  </li>
</ol>

<p>The queue manager is now ready to accept connection from the connector and put messages on a queue.</p>

<h2 id="configuring-the-connector-to-connect-to-mq">Configuring the connector to connect to MQ</h2>

<p>To connect to IBM MQ and to your Event Streams or Apache Kafka cluster, the connector requires configuration settings added to a <code class="language-plaintext highlighter-rouge">KafkaConnector</code> custom resource that represents the connector.</p>

<p>For IBM MQ connectors, you can generate the <code class="language-plaintext highlighter-rouge">KafkaConnector</code> custom resource YAML file from either the Event Streams UI or the CLI. You can also use the CLI to generate a JSON file, which you can use in distributed mode where you supply the connector configuration through REST API calls.</p>

<p>The connector connects to IBM MQ using a client connection. You must provide the following connection information for your queue manager (these configuration settings are added to the <code class="language-plaintext highlighter-rouge">spec.config</code> section of the <code class="language-plaintext highlighter-rouge">KafkaConnector</code> custom resource YAML):</p>

<ul>
  <li>Comma-separated list of Kafka topics to pull events from.</li>
  <li>The name of the IBM MQ queue manager.</li>
  <li>The connection name (one or more host and port pairs).</li>
  <li>The channel name.</li>
  <li>The name of the sink IBM MQ queue.</li>
  <li>The user name and password if the queue manager is configured to require them for client connections.</li>
</ul>

<h3 id="using-the-ui">Using the UI</h3>

<p>Use the Event Streams UI to generate and download the <code class="language-plaintext highlighter-rouge">KafkaConnector</code> custom resource YAML file for your IBM MQ sink connector.</p>

<ol>
  <li></li>
  <li>Click <strong>Toolbox</strong> in the primary navigation and scroll to the <strong>Connectors</strong> section.</li>
  <li>Go to the <strong>Add connectors to your Kafka Connect environment</strong> tile and click <strong>Connecting to IBM MQ?</strong></li>
  <li>Ensure the <strong>MQ Sink</strong> tab is selected and click <strong>Generate</strong>.</li>
  <li>In the dialog, enter the configuration of the <code class="language-plaintext highlighter-rouge">MQ Sink</code> connector.</li>
  <li>Click <strong>Download</strong> to generate and download the configuration file with the supplied fields.</li>
  <li>Open the downloaded configuration file and change the values of <code class="language-plaintext highlighter-rouge">mq.user.name</code> and <code class="language-plaintext highlighter-rouge">mq.password</code> to the username and password that you used to configure your instance of MQ. Also set the label <code class="language-plaintext highlighter-rouge">eventstreams.ibm.com/cluster</code> to the name of your Kafka Connect instance.</li>
</ol>

<h3 id="using-the-cli">Using the CLI</h3>

<p>Use the Event Streams CLI to generate and download the <code class="language-plaintext highlighter-rouge">KafkaConnector</code> custom resource YAML file for your IBM MQ sink connector. You can also use the CLI to generate a JSON file for distributed mode.</p>

<ol>
  <li>Initialize the Event Streams CLI by following the instructions in <a href="../../getting-started/logging-in/#logging-in-to-event-streams-cli">logging in</a>.</li>
  <li>Run the following command to initialize the Event Streams CLI on the cluster:<br />
<code class="language-plaintext highlighter-rouge">kubectl es init</code></li>
  <li>Run the <code class="language-plaintext highlighter-rouge">connector-config-mq-sink</code> command to generate the configuration file for the <code class="language-plaintext highlighter-rouge">MQ Sink</code> connector.<br />
For example, to generate a configuration file for an instance of <code class="language-plaintext highlighter-rouge">MQ</code> with the following information: a queue manager called <code class="language-plaintext highlighter-rouge">QM1</code>, with a connection point of <code class="language-plaintext highlighter-rouge">localhost(1414)</code>, a channel name of <code class="language-plaintext highlighter-rouge">MYSVRCONN</code>, a queue of <code class="language-plaintext highlighter-rouge">MYQSINK</code> and connecting to the topics <code class="language-plaintext highlighter-rouge">TSINK</code>, run the following command:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl es connector-config-mq-sink --mq-queue-manager="QM1" --mq-connection-name-list="localhost(1414)" --mq-channel="MYSVRCONN" --mq-queue="MYQSINK" --topics="TSINK" --file="mq-sink" --format yaml
</code></pre></div>    </div>
    <p><strong>Note</strong>: Omitting the <code class="language-plaintext highlighter-rouge">--format yaml</code> flag will generate a <code class="language-plaintext highlighter-rouge">mq-sink.properties</code> file which can be used for standalone mode. Specifying <code class="language-plaintext highlighter-rouge">--format json</code> will generate a <code class="language-plaintext highlighter-rouge">mq-sink.json</code> file which can be used for distributed mode outside OpenShift Container Platform.</p>
  </li>
  <li>Change the values of <code class="language-plaintext highlighter-rouge">mq.user.name</code> and <code class="language-plaintext highlighter-rouge">mq.password</code> to the username and password that you used to configure your instance of MQ. Also set the label <code class="language-plaintext highlighter-rouge">eventstreams.ibm.com/cluster</code> to the name of your Kafka Connect instance.</li>
</ol>

<p>The final configuration file will resemble the following:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apiVersion: eventstreams.ibm.com/v1beta2
kind: KafkaConnector
metadata:
  name: mq-sink
  labels:
    # The eventstreams.ibm.com/cluster label identifies the KafkaConnect instance
    # in which to create this connector. That KafkaConnect instance
    # must have the eventstreams.ibm.com/use-connector-resources annotation
    # set to true.
    eventstreams.ibm.com/cluster: &lt;kafka_connect_name&gt;
spec:
  class: com.ibm.eventstreams.connect.mqsink.MQSinkConnector
  tasksMax: 1
  config:
    topics: TSINK
    mq.queue.manager: QM1
    mq.connection.name.list: localhost(1414)
    mq.channel.name: MYSVRCONN
    mq.queue: MYQSINK
    mq.user.name: alice
    mq.password: passw0rd
    key.converter: org.apache.kafka.connect.storage.StringConverter
    value.converter: org.apache.kafka.connect.storage.StringConverter
    mq.message.builder: com.ibm.eventstreams.connect.mqsink.builders.DefaultMessageBuilder
</code></pre></div></div>

<p>A list of all the possible flags can be found by running the command <code class="language-plaintext highlighter-rouge">kubectl es connector-config-mq-sink --help</code>. Alternatively, See the <a href="https://github.com/ibm-messaging/kafka-connect-mq-sink/blob/master/config/mq-sink.properties" target="_blank">sample properties file</a> for a full list of properties you can configure, and also see the <a href="https://github.com/ibm-messaging/kafka-connect-mq-sink#readme" target="_blank">GitHub README</a> for all available configuration options.</p>

<h2 id="downloading-the-mq-sink-connector">Downloading the MQ Sink connector</h2>

<ol>
  <li></li>
  <li>Click <strong>Toolbox</strong> in the primary navigation and scroll to the <strong>Connectors</strong> section.</li>
  <li>Go to the <strong>Add connectors to your Kafka Connect environment</strong> tile and click <strong>Connecting to IBM MQ?</strong></li>
  <li>Ensure the <code class="language-plaintext highlighter-rouge">MQ Sink</code> tab is selected and click <strong>Go to GitHub</strong>. Download the JAR file from the list of assets for the latest release.</li>
</ol>

<h2 id="configuring-kafka-connect">Configuring Kafka Connect</h2>

<p>Follow the steps in <a href="../../setting-up-connectors/">Set up a Kafka Connect environment</a>. When adding connectors, add the MQ connector JAR you downloaded, and when starting the connector, use the YAML file you created earlier.</p>

<p>Verify the log output of Kafka Connect includes the following messages that indicate the connector task has started and successfully connected to IBM MQ:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl logs &lt;kafka_connect_pod_name&gt;
...
INFO Created connector mq-sink
...
INFO Connection to MQ established
...
</code></pre></div></div>

<h2 id="send-a-test-message">Send a test message</h2>

<p>To test the connector you will need an application to produce events to your topic.</p>

<ol>
  <li></li>
  <li>Click <strong>Toolbox</strong> in the primary navigation.</li>
  <li>Go to the <strong>Starter application</strong> tile under <strong>Applications</strong>, and click <strong>Get started</strong>.</li>
  <li>Click <strong>Download JAR from GitHUb</strong>. Download the JAR file from the list of assets for the latest release.</li>
  <li>Click <strong>Generate properties</strong>.</li>
  <li>Enter a name for the application.</li>
  <li>Go to the <strong>Existing topic</strong> tab and select the topic you provided in the MQ connector configuration.</li>
  <li>Click <strong>Generate and download .zip</strong>.</li>
  <li>Follow the instructions in the UI to get the application running.</li>
</ol>

<p>Verify the message is on the queue:</p>

<ol>
  <li>Navigate to the UI of the <a href="../../../getting-started/generating-starter-app/">sample application</a> you generated earlier and start producing messages to Event Streams.</li>
  <li>Use the <code class="language-plaintext highlighter-rouge">amqsget</code> sample to get messages from the MQ Queue:<br />
<code class="language-plaintext highlighter-rouge">/opt/mqm/samp/bin/amqsget &lt;queue_name&gt; &lt;queue_manager_name&gt;</code><br />
After a short delay, the messages are printed.</li>
</ol>

<h2 id="advanced-configuration">Advanced configuration</h2>

<p>For more details about the connector and to see all configuration options, see the <a href="https://github.com/ibm-messaging/kafka-connect-mq-sink#readme" target="_blank">GitHub README</a>.</p>

          </div>


          
        </section>

        <aside class="sidebar__right ">
          
          <div class="fixedSidebar">
            <nav class="toc">
              <ul class="toc__menu">
  <li><a href="#prerequisites">Prerequisites</a></li>
  <li><a href="#setting-up-the-queue-manager">Setting up the queue manager</a>
    <ul>
      <li><a href="#by-using-local-operating-system-to-authenticate">By using local operating system to authenticate</a></li>
      <li><a href="#by-using-the-ibm-mq-operator">By using the IBM MQ Operator</a></li>
    </ul>
  </li>
  <li><a href="#configuring-the-connector-to-connect-to-mq">Configuring the connector to connect to MQ</a>
    <ul>
      <li><a href="#using-the-ui">Using the UI</a></li>
      <li><a href="#using-the-cli">Using the CLI</a></li>
    </ul>
  </li>
  <li><a href="#downloading-the-mq-sink-connector">Downloading the MQ Sink connector</a></li>
  <li><a href="#configuring-kafka-connect">Configuring Kafka Connect</a></li>
  <li><a href="#send-a-test-message">Send a test message</a></li>
  <li><a href="#advanced-configuration">Advanced configuration</a></li>
</ul>
            </nav>
          </div>
          
        </aside>


      </div>
      <div class="pageEnd">
        
          
  <nav class="pagination">
    
      <div class="previous" onclick="window.open('/event-automation/es/connecting/mq/source/','_self')">
        <div class="container">
          <a href="/event-automation/es/connecting/mq/source/" class="pagination--pager" title="Previous Item: Running the MQ source connector
">Previous</a>
          <h2 class="titlePreview">Running the MQ source connector
</h2>
        </div>
      </div>
    
    
      <div class="next" onclick="window.open('/event-automation/es/connecting/mq/zos/','_self')">
        <div class="container">
          <a href="/event-automation/es/connecting/mq/zos/" class="pagination--pager" title="Next Item: Running connectors on IBM z/OS
">Next</a>
          <h2 class="titlePreview">Running connectors on IBM z/OS
</h2>
        </div>
      </div>
      
  </nav>

        
      </div>
    </div>


  </div> <!-- Main content -->

</main></div>


    
      <div class="page__footer">
          <footer>
            <!-- start custom footer snippets -->

<!-- end custom footer snippets -->

            
<div class="page__footer-copyright"><a href="https://www.ibm.com/privacy/us/en/" rel="nofollow" target="_blank">Privacy Policy</a>  &nbsp;© Copyright IBM Corporation 2023</br>
<a href="http://localhost:4000/event-automation/accessibility/" rel="nofollow" target="_blank">Accessibility</a> </br> <a href="http://localhost:4000/event-automation/notices/" rel="nofollow" target="_blank">Notices</a></br>
          </footer>
      </div>      
    


    
  <script src="/event-automation/assets/js/main.min.js"></script>
  <!-- <script src="https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script> -->






<script src="/event-automation/assets/js/design.js"></script>





<script src="/event-automation/assets/js/lunr/lunr.min.js"></script>
<script src="/event-automation/assets/js/lunr/lunr-store.js"></script>
<script src="/event-automation/assets/js/lunr/lunr-en.js"></script>





    

    
  </body>
</html>
