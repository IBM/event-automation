<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Event Streams producer API - IBM Event Automation</title>
<meta name="description" content="Use the Event Streams producer API to connect other systems to your Kafka cluster.">

<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="IBM Event Automation">
<meta property="og:url" content="http://localhost:4000/event-automation/es/es_2019.4/connecting/rest-api/" />
<meta property="og:title" content="Event Streams | Event Streams producer API" />
<meta property="og:description" content="Use the Event Streams producer API to connect other systems to your Kafka cluster." />

<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="IBM Event Automation | Event Streams producer API" />




  <meta property="og:description" content="Use the Event Streams producer API to connect other systems to your Kafka cluster.">



  <meta property="og:image" content="http://localhost:4000/event-automation/assets/siteMeta/appIcon_og_fb.png">
  <meta name="twitter:image" content="http://localhost:4000/event-automation/assets/siteMeta/appIcon_og_square.png">



  <meta property="article:published_time" content="2023-06-28T12:13:19-04:00">






<link rel="canonical" href="http://localhost:4000/event-automation/es/es_2019.4/connecting/rest-api/">





  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "http://localhost:4000/event-automation",
      "logo": "http://localhost:4000/event-automation/assets/siteMeta/appIcon_og_fb.png"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": null,
      "url": "http://localhost:4000/event-automation",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/event-automation/feed.xml" type="application/atom+xml" rel="alternate" title="IBM Event Automation Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/event-automation/assets/css/main.css">



<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<link rel="apple-touch-icon" sizes="180x180" href="http://localhost:4000/event-automation/assets/siteMeta/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:4000/event-automation/assets/siteMeta/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:4000/event-automation/assets/siteMeta/favicon-16x16.png">
<link rel="manifest" href="http://localhost:4000/event-automation/assets/siteMeta/site.webmanifest">
<link rel="mask-icon" href="http://localhost:4000/event-automation/assets/siteMeta/safari-pinned-tab.svg" color="#000000">
<link rel="shortcut icon" href="http://localhost:4000/event-automation/assets/siteMeta/favicon.ico">
<link rel="shortcut icon" type="image/png" href="http://localhost:4000/event-automation/assets/siteMeta/favicon-16x16.png"/>
<link rel="shortcut icon" type="image/png" href="http://localhost:4000/event-automation/assets/siteMeta/favicon-32x32.png"/>
<meta name="msapplication-TileColor" content="#000000">
<meta name="msapplication-config" content="http://localhost:4000/event-automation/assets/siteMeta/browserconfig.xml">
<meta name="theme-color" content="#000000">



<link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,600%7CIBM+Plex+Serif:300,400,500%7CIBM+Plex+Mono:300,400,500,700" rel="stylesheet">

<!-- end custom head snippets -->

    <link rel="shortcut icon" type="image/x-icon" href="/event-automation/assets/favicon.ico" >
    
    <base target="_parent">

  </head>
  <script src="/event-automation/assets/animation/lottie.js" type="text/javascript"></script>
  <script src="/event-automation/assets/js/connectors.js"></script>


  
  <body onload="urlChecker()" class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    




<div id="masthead" class="masthead">
  <!--
  <div class="masthead__goToIBMCloud">
  <div>
    You are viewing the documentation for the container-native version of IBM Event Automation.
  </div>
    <a class="link" target="_self" href="https://cloud.ibm.com/docs/EventStreams?topic=EventStreams-getting-started">Looking for the managed service on IBM Cloud? Click here.</a>
</div>
-->
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="mastheadNav">

      


        <div class="mastheadTitle">
          
          <a class="site-title" href="/event-automation/" target="_self"><span>IBM</span>&nbsp;Event Automation</a>
          <div class="viewOnIBMcom">
            <a href="https://www.ibm.com/products/event-automation" target="_blank">View product page</a>
          </div>
        </div>









        <div class="mastheadControls">
            <div class="menuScrollContainer">

        

                <ul id="visible-links" class="visible-links">
                  
                  
                  

                  




                  
                    <li class="masthead__menu-item active" onclick="window.open('http://localhost:4000/event-automation/es/','_self')">
                      <a href="http://localhost:4000/event-automation/es/" >Event Streams</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/eem/','_self')">
                      <a href="http://localhost:4000/event-automation/eem/" >Endpoint Management</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/ep/','_self')">
                      <a href="http://localhost:4000/event-automation/ep/" >Event Processing</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/connectors/','_self')">
                      <a href="http://localhost:4000/event-automation/connectors/" >Connectors</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/tutorials/','_self')">
                      <a href="http://localhost:4000/event-automation/tutorials/" >Tutorials</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/api/','_self')">
                      <a href="http://localhost:4000/event-automation/api/" >APIs...</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/support/','_self')">
                      <a href="http://localhost:4000/event-automation/support/" >Support</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/search/','_self')">
                      <button aria-label="Search Button" role="button" id="searchButton" class="search__toggle " type="button" name="search Button">
                        <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                          <path
                            d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z"
                            transform="translate(-.01)"></path>
                        </svg>
                      </button>
                    </li>
                  

                  
                </ul>
        

      </div>
    </div>
      </nav>
    </div>
  </div>
</div>


    <div id="initial-content" class="initial-content" role="main">






<main id="main" class="mainContainer" role="main">
    
      <div id="subMenu" class="subMenu">
        <div tabindex="0" class="menuIcon" id="menuIcon">
          <svg id="mobileMenu" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48">
            <g id="bottomLine">
              <line class="burgerLine" x1="14" y1="29" x2="34" y2="29" />
            </g>
            <g id="middleLine">
              <line class="burgerLine" x1="14" y1="24" x2="34" y2="24" />
            </g>
            <g id="topLine">
              <line class="burgerLine" x1="14" y1="19" x2="34" y2="19" />
            </g>
          </svg>
        </div>
        <div id="mobileVersionShortcut" class="versionContainer" tabindex="0">
          <a id="mobileVersionPillCurrent" class="versionPill">2019.4</a>
        </div>
      </div>
    
  



<div id="sidebarMask" class="sidebarMask">

  </div>
  <div id="sidebar" class="sidebar sticky">
      <div aria-label="Change Version" role="button" aria-expanded="false"
      
        id="versionDropdown"
        tabindex="0"
        class="versionsBar"
       >
          <div class="selectedVersion" id="selectedVersion">
            <div class="versionContainer" >
              
                <a id="versionPillCurrent" class="versionPill">2019.4</a>
                <a class="versionChange">Change Version</a>
              
            </div>
          </div>
          


          <div class="allVersions" id="allVersions">
            <ul>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/connecting/rest-api/" onclick="openVersion('/event-automation/es/connecting/rest-api/','es_11.2')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/connecting/rest-api/" class="versionPill inactive">11.2</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        Latest
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_11.1/connecting/rest-api/" onclick="openVersion('/event-automation/es/es_11.1/connecting/rest-api/','es_11.1')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_11.1/connecting/rest-api/" class="versionPill inactive">11.1</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_11.0/connecting/rest-api/" onclick="openVersion('/event-automation/es/es_11.0/connecting/rest-api/','es_11.0')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_11.0/connecting/rest-api/" class="versionPill inactive">11.0</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_10.5/connecting/rest-api/" onclick="openVersion('/event-automation/es/es_10.5/connecting/rest-api/','es_10.5')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_10.5/connecting/rest-api/" class="versionPill inactive">10.5</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_10.4/connecting/rest-api/" onclick="openVersion('/event-automation/es/es_10.4/connecting/rest-api/','es_10.4')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_10.4/connecting/rest-api/" class="versionPill inactive">10.4</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_10.3/connecting/rest-api/" onclick="openVersion('/event-automation/es/es_10.3/connecting/rest-api/','es_10.3')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_10.3/connecting/rest-api/" class="versionPill inactive">10.3</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_10.2/connecting/rest-api/" onclick="openVersion('/event-automation/es/es_10.2/connecting/rest-api/','es_10.2')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_10.2/connecting/rest-api/" class="versionPill inactive">10.2</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_10.1/connecting/rest-api/" onclick="openVersion('/event-automation/es/es_10.1/connecting/rest-api/','es_10.1')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_10.1/connecting/rest-api/" class="versionPill inactive">10.1</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_10.0/connecting/rest-api/" onclick="openVersion('/event-automation/es/es_10.0/connecting/rest-api/','es_10.0')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_10.0/connecting/rest-api/" class="versionPill inactive">10.0</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_2019.4/connecting/rest-api/" onclick="openVersion('/event-automation/es/es_2019.4/connecting/rest-api/','es_2019.4')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_2019.4/connecting/rest-api/" class="versionPill active">2019.4</a>
                      </div>
                      <div class="activeContainer">
                        
                          <img alt="" src="http://localhost:4000/event-automation/images/checkbox.svg" />
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_2019.2.1/connecting/rest-api/" onclick="openVersion('/event-automation/es/es_2019.2.1/connecting/rest-api/','es_2019.2.1')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_2019.2.1/connecting/rest-api/" class="versionPill inactive">2019.2.1</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_2019.1.1/connecting/rest-api/" onclick="openVersion('/event-automation/es/es_2019.1.1/connecting/rest-api/','es_2019.1.1')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_2019.1.1/connecting/rest-api/" class="versionPill inactive">2019.1.1</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_2018.3.1/connecting/rest-api/" onclick="openVersion('/event-automation/es/es_2018.3.1/connecting/rest-api/','es_2018.3.1')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_2018.3.1/connecting/rest-api/" class="versionPill inactive">2018.3.1</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

            </ul>
          </div>
        </div>

  
    
      
      
      
    
    
      

<nav class="nav__list">
  
  <ul class="nav__items">

    
      <li>
        
          <span class="nav__sub-title">About</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/about/overview/" class="">Introduction</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/about/whats-new/" class="">What's new</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/about/key-concepts/" class="">Key concepts</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/about/producing-messages/" class="">Producing messages</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/about/consuming-messages/" class="">Consuming messages</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/about/partition-leadership/" class="">Partition leadership</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Installing and upgrading</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/installing/trying-out/" class="">Trying out Event Streams</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/installing/prerequisites/" class="">Pre-requisites</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/installing/planning/" class="">Planning for installation</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/installing/capacity-planning/" class="">Performance and capacity planning</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/installing/preparing-multizone/" class="">Preparing for multizone clusters</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/installing/installing/" class="">Installing on IBM Cloud Private</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/installing/installing-openshift/" class="">Installing on OpenShift</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/installing/configuring/" class="">Configuring</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/installing/post-installation/" class="">Post-installation tasks</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/installing/migrating/" class="">Migrating from Community Edition</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/installing/moving-from-oss-kafka/" class="">Migrating from open source Kafka</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/installing/uninstalling/" class="">Uninstalling</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/installing/upgrading/" class="">Upgrading</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/installing/rolling-back/" class="">Rolling back</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Getting started</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/getting-started/logging-in/" class="">Logging in</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/getting-started/generating-starter-app/" class="">Generating a starter application</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/getting-started/testing-loads/" class="">Creating and testing message loads</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/getting-started/client/" class="">Creating Kafka Java client applications</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/getting-started/using-kafka-console-tools/" class="">Using Apache Kafka console tools</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Schemas</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/schemas/overview/" class="">Schemas overview</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/schemas/creating/" class="">Creating and adding schemas</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/schemas/manage-lifecycle/" class="">Managing schema lifecycle</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/schemas/setting-java-apps/" class="">Setting Java applications to use schemas</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/schemas/setting-nonjava-apps/" class="">Setting non-Java applications to use schemas</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/schemas/migrating/" class="">Migrating to Event Streams schema registry</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/schemas/using-with-rest-producer/" class="">Using schemas with the REST producer API</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/schemas/schema-api/" class="">Using the schema API</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Security</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/security/managing-access/" class="">Managing access</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/security/encrypting-data/" class="">Encrypting your data</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/security/secure-jmx-connections/" class="">Configuring secure JMX connections</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/security/updating-certificates/" class="">Updating certificates</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/security/network-policies/" class="">Network policies</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/security/gdpr-considerations/" class="">Considerations for GDPR</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Geo-replication</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/georeplication/about/" class="">About geo-replication</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/georeplication/planning/" class="">Planning for geo-replication</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/georeplication/setting-up/" class="">Setting up geo-replication</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/georeplication/health/" class="">Monitoring and managing geo-replication</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Connecting external systems</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/connecting/rest-api/" class="active">Producing messages using REST</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/connecting/connectors/" class="">Kafka Connect and connectors</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/connecting/setting-up-connectors/" class="">Setting up and running connectors</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/connecting/mq/" class="">Connecting to IBM MQ</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/connecting/mq/source/" class="">Running the MQ source connector</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/connecting/mq/sink/" class="">Running the MQ sink connector</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/connecting/mq/zos/" class="">Running connectors on IBM z/OS</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/connecting/icp/" class="">Running connectors on IBM Cloud Private</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Administering</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/administering/deployment-health/" class="">Monitoring deployment health</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/administering/cluster-health/" class="">Monitoring Kafka cluster health</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/administering/topic-health/" class="">Monitoring topic health</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/administering/external-monitoring/" class="">Monitoring with external tools</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/administering/modifying-configs/" class="">Modifying Kafka broker configurations</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/administering/modifying-installation/" class="">Modifying installation settings</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/administering/helm-upgrade-command/" class="">Running Helm upgrade commands</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/administering/scaling/" class="">Scaling</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/administering/quotas/" class="">Setting client quotas</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/administering/managing-multizone/" class="">Managing a multizone setup</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/administering/stopping-starting/" class="">Stopping and starting Event Streams</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Troubleshooting</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/intro/" class="">Troubleshooting overview</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/diagnosing-installation-issues/" class="">Diagnosing installation issues</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/gathering-logs/" class="">Gathering logs</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/resources-not-available/" class="">Resources not available</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/cleanup-uninstall/" class="">Full cleanup after uninstallation</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/pod-timeout-error/" class="">ConsumerTimeoutException when pods available</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/georeplication-error/" class="">Error when creating multiple geo-replicators</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/kafka-producer-error/" class="">TimeoutException when using standard Kafka producer</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/kafka-consumer-hangs/" class="">Standard Kafka consumer hangs</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/cloudctl-es-not-registered/" class="">Command 'cloudctl es' fails with 'not a registered command' error</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/cloudctl-es-fails/" class="">Command 'cloudctl es' produces 'FAILED' message</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/chrome-ubuntu-issue/" class="">UI does not open when using Chrome on Ubuntu</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/no-image-policy/" class="">Chart deployment fails with 'no ImagePolicies' error</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/image-policy-missing-repository/" class="">Chart deployment fails with 'no matching repositories in the ImagePolicies' error</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/no-helm-release-is-created/" class="">Chart deployment starts but no helm release is created</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/messages-page-blank/" class="">The Messages page is blank</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/kafka-connection-issue/" class="">Unable to connect to Kafka cluster</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/error-removing-destination/" class="">Unable to remove destination cluster</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/georeplication-connect-error/" class="">Geo-replication fails to start</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/ui-403-error/" class="">403 error when signing in</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/client-connect-error/" class="">Kafka client apps unable to connect to cluster</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/problem-with-piping/" class="">The UI cannot load data</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/helm-cli-team-administrator/" class="">Helm commands fail when running as Team Administrator</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/chrome-macos-issue/" class="">UI does not open when using Chrome on macOS Catalina</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/georeplication-version-error/" class="">Error when geo-replicating to an earlier version of Event Streams</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/schemaregistry-java-deps-download-error/" class="">Error when downloading Java dependencies for schema registry</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/failed-to-read-log/" class="">Failed to read 'log header' errors in Kafka logs</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/operator-keeps-reconcilling/" class="">Operator is generating constant log output</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/openshift-route-incorrect/" class="">Kafka cluster is not accessible by using OpenShift routes</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_2019.4/troubleshooting/invalid-negative-offset/" class="">UI is unable to display consumer groups for a topic</a>
            </li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  
  </div>


  <div class="mainContent">
    
    <div id="pageContainer" class="page" itemscope itemtype="http://schema.org/CreativeWork">
      
      <div class="page__inner-wrap">
      

        
        <section class="page__content pageSpacing" itemprop="text">
          
        
          <header>
            <h1 id="page-title" class="page__title" itemprop="headline">
              Event Streams producer API
</h1>
            
          </header>  
        
        

                    
          <div class="content">
            <p>Event Streams provides a REST API to help connect your existing systems to your Event Streams Kafka cluster. Using the API, you can integrate Event Streams with any system that supports RESTful APIs.</p>

<p>The REST producer API is a scalable REST interface for producing messages to Event Streams over a secure HTTP endpoint. Send event data to Event Streams, utilize Kafka technology to handle data feeds, and take advantage of Event Streams features to manage your data.</p>

<p>Use the API to connect existing systems to Event Streams, such as IBM Z mainframe systems with IBM z/OS Connect, systems using IBM DataPower Gateway, and so on.</p>

<h2 id="about-authorization">About authorization</h2>

<p>Event Streams uses API keys to authorize writing to topics. For more information about API keys and associated service IDs, see the information about <a href="../../security/managing-access/">managing access</a>.</p>

<p>The REST producer API requires the API key to be provided with each REST call to grant access to the requested topic. This can be done in one of the following ways:</p>
<ol>
  <li><strong>In an HTTP authorization header</strong>: <br />
You can use this method when you have control over what HTTP headers are sent with each call to the REST producer API. For example, this is the case when the API calls are made by code you control.</li>
  <li><strong>Embedded into an SSL client certificate</strong> (also referred to as <strong>SSL client authentication</strong> or <strong>SSL mutual authentication</strong>):<br />
You can use this method when you cannot control what HTTP headers are sent with each REST call. For example, this is the case when you are using third-party software or systems such as CICS events over HTTP.</li>
</ol>

<p><strong>Note:</strong> You must have Event Streams version 2019.1.1 or later to use the REST API. In addition, you must have Event Streams version 2019.4.1 or later to use the REST API with SSL client authentication.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>To be able to produce to a topic, ensure you have the following available:</p>
<ul>
  <li>The URL of the Event Streams API endpoint, including the port number.</li>
  <li>The topic you want to produce to.</li>
  <li>The API key that gives permission to connect and produce to the selected topic.</li>
  <li>The Event Streams certificate.</li>
  <li>If using SSL client authentication, a client private key and certificate signed by Event Streams. See the information about <a href="#create-an-ssl-client-certificate">creating an SSL client certificate</a> later for details about how to create and sign an SSL client key and certificate.</li>
</ul>

<p>To retrieve the full URL for the Event Streams API endpoint, you can use the Event Streams CLI or UI.</p>

<p>Using the CLI:</p>
<ol>
  <li>Ensure you have the Event Streams CLI <a href="../../installing/post-installation/#installing-the-command-line-interface-cli">installed</a>.</li>
  <li>Log in to your cluster as an administrator by using the IBM Cloud Private CLI:<br /> <code class="language-plaintext highlighter-rouge">cloudctl login -a https://&lt;cluster-address&gt;:&lt;cluster-router-https-port&gt;</code></li>
  <li>Run the following command to initialize the Event Streams CLI: <code class="language-plaintext highlighter-rouge">cloudctl es init</code>.<br />
If you have more than one Event Streams instance installed, select the one where the topic you want to produce to is.<br />
Details of your Event Streams installation are displayed.</li>
  <li>Copy the full URL of the desired endpoint, including the port number. If using HTTP authorization, use the <code class="language-plaintext highlighter-rouge">Event Streams API endpoint</code> field. For SSL client authentication, use the <code class="language-plaintext highlighter-rouge">Event Streams SSL client auth endpoint</code> field.</li>
</ol>

<p>Using the UI:</p>
<ol>
  <li>Log in to the Event Streams UI from a supported web browser (see how to determine the <a href="../../../getting-started/logging-in/">login URL</a> for your Event Streams UI).</li>
  <li>Click <strong>Connect to this cluster</strong> on the right.</li>
  <li>Go to the <strong>Resources</strong> tab.</li>
  <li>Scroll down to the <strong>API endpoint</strong> section.</li>
  <li>Click <strong>Copy API endpoint</strong>.</li>
</ol>

<p>To create a topic and generate an API key with produce permissions, and to download the certificate:</p>
<ol>
  <li>If you have not previously created the topic, create it now:<br />
<code class="language-plaintext highlighter-rouge">cloudctl es topic-create --name &lt;topic_name&gt; --partitions 1 --replication-factor 3</code></li>
  <li>Create a service ID and generate an API key:<br />
<code class="language-plaintext highlighter-rouge">cloudctl es iam-service-id-create --name &lt;serviceId_name&gt; --role editor --topic &lt;topic_name&gt;</code><br />
For more information about roles, permissions, and service IDs, see the information about <a href="../../security/managing-access/">managing access</a>.</li>
  <li>Copy the API key returned by the previous command.</li>
  <li>Download the server certificate for Event Streams:<br />
<code class="language-plaintext highlighter-rouge">cloudctl es certificates --format pem</code> <br />
By default, the certificate is written to a file called <code class="language-plaintext highlighter-rouge">es-cert.pem</code>.</li>
</ol>

<h3 id="key-and-message-size-limits">Key and message size limits</h3>

<p>The REST producer API has a configured limit for the key size (default is <code class="language-plaintext highlighter-rouge">4096</code> bytes) and the message size (default is <code class="language-plaintext highlighter-rouge">65536</code> bytes). If the request sent has a larger key or message size than the limits set, the request will be rejected.</p>

<p><img src="../../../images/2019.4.2.svg" alt="Event Streams 2019.4.2 icon" title="In Event Streams 2019.4.2." /> <strong>Important:</strong> In Event Streams 2019.4.2, you can configure the key and message size limits at the time of <a href="../../installing/configuring/#-rest-producer-api-settings">installation</a> or later as described in <a href="../../administering/modifying-installation/">modifying</a> installation settings. You can set the limit values in the <strong>REST producer API settings</strong> section if using the UI, or use the <code class="language-plaintext highlighter-rouge">rest-producer.maxKeySize</code> and <code class="language-plaintext highlighter-rouge">rest-producer.maxMessageSize</code> parameters if using the CLI.</p>

<p>In Event Streams 2019.4.1 and earlier versions, you can update the limits as follows:</p>

<ol>
  <li>Ensure you have the Event Streams CLI <a href="../../installing/post-installation/#installing-the-command-line-interface-cli">installed</a>.</li>
  <li>Log in to your cluster as an administrator by using the IBM Cloud Private CLI:<br /> <code class="language-plaintext highlighter-rouge">cloudctl login -a https://&lt;cluster-address&gt;:&lt;cluster-router-https-port&gt;</code></li>
  <li>List the Event Streams deployments: <code class="language-plaintext highlighter-rouge">kubectl get deployments</code></li>
  <li>Identify the REST producer deployment in the list.<br />
It will be similar to <code class="language-plaintext highlighter-rouge">&lt;deployment_name&gt;-ibm-es-rest-producer-deploy</code>.</li>
  <li>Edit the REST producer deployment:<br />
<code class="language-plaintext highlighter-rouge">kubectl edit deployment &lt;deployment_name&gt;-ibm-es-rest-producer-deploy</code></li>
  <li>In the <code class="language-plaintext highlighter-rouge">.yaml</code> file Locate the <code class="language-plaintext highlighter-rouge">env</code> section for the REST producer container under <code class="language-plaintext highlighter-rouge">spec.template.spec.containers</code>.</li>
  <li>Add the following environment variables as required:<br />
    <ul>
      <li><code class="language-plaintext highlighter-rouge">MAX_KEY_SIZE</code>: Sets the maximum key size in bytes (default is <code class="language-plaintext highlighter-rouge">4096</code>).</li>
      <li><code class="language-plaintext highlighter-rouge">MAX_MESSAGE_SIZE</code>: Sets the maximum message size in bytes (default is <code class="language-plaintext highlighter-rouge">65536</code>).</li>
    </ul>

    <p><strong>Important:</strong> Do not set the <code class="language-plaintext highlighter-rouge">MAX_MESSAGE_SIZE</code> to a higher value than the maximum message size that can be received by the Kafka broker or the individual topic (<code class="language-plaintext highlighter-rouge">max.message.bytes</code>). By default, the maximum message size for Kafka brokers is <code class="language-plaintext highlighter-rouge">1000012</code> bytes. If the limit is set for an individual topic, then that setting overrides the broker setting. Any message larger than the maximum limit will be rejected by Kafka.</p>

    <p><strong>Note:</strong> Sending large requests to the REST producer increases latency, as it will take the REST producer longer to process the requests.</p>
  </li>
  <li>Save your changes and wait for the REST producer pod to be updated.<br />
<strong>Note:</strong> If you upgrade your Event Streams version, you will have to apply these environment variables again.</li>
</ol>

<h2 id="producing-messages-using-rest-with-http-authorization">Producing messages using REST with HTTP authorization</h2>

<p>Ensure you have gathered all the details required to use the producer API, as described in the <a href="#prerequisites">prerequisites</a>.</p>

<p>You can use the usual languages for making the API call. For example, to use cURL to produce messages to a topic with the producer API, run the <code class="language-plaintext highlighter-rouge">curl</code> command as follows:</p>

<p><code class="language-plaintext highlighter-rouge">curl -v -X POST -H "Authorization: Bearer &lt;api_key&gt;" -H "Content-Type: text/plain" -H "Accept: application/json" -d 'test message' --cacert es-cert.pem "&lt;api_endpoint&gt;/topics/&lt;topic_name&gt;/records"</code></p>

<p>Where:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">&lt;api_key&gt;</code> is the API key you generated earlier.</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;api_endpoint&gt;</code> is the full URL copied from the <code class="language-plaintext highlighter-rouge">Event Streams API endpoint</code> field earlier (format <code class="language-plaintext highlighter-rouge">https://&lt;host&gt;:&lt;port&gt;</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;topic_name&gt;</code> is the name of the topic you want to produce messages to.</li>
</ul>

<p>For full details of the API, see the <a href="../../api/" target="_blank">API reference</a>.</p>

<h2 id="producing-messages-using-rest-with-ssl-client-authentication">Producing messages using REST with SSL client authentication</h2>

<p>In cases where you cannot manipulate the HTTP headers being sent with each REST call, using an SSL client certificate instead allows the API key to be provided when the REST client opens a TLS connection to Event Streams. In this scenario, Event Streams acts as the signing authority for the client certificate, not only signing the certificate signing request, but also embedding the encrypted API key into the resulting certificate. This way, Event Streams can verify that it trusts the client system, and it can authorize access to the requested topic through the embedded API key.</p>

<p>Before continuing with the instructions in the following sections, ensure you have gathered all the details required to use the producer API, as described in the <a href="#prerequisites">prerequisites</a>.</p>

<h3 id="create-an-ssl-client-certificate">Create an SSL client certificate</h3>

<p>Creating and deploying an SSL client certificate is a one-off procedure that you must do before any messages can be sent from the client system.</p>

<p><strong>Note:</strong> SSL security technology can be a complex topic and it is beyond the scope of this documentation to provide a full description of all its features and mechanisms. For an overview of SSL and TLS, see the <a href="https://www.ibm.com/support/knowledgecenter/en/SSFKSJ_9.0.0/com.ibm.mq.sec.doc/q009910_.htm" target="_blank">IBM MQ documentation</a>.</p>

<p>The following is a simplified set of instructions based on the widely-used <a href="https://www.openssl.org/" target="_blank">OpenSSL</a> toolkit:</p>
<ol>
  <li>
    <p>Create a private key and an associated certificate signing request (CSR): <br />
<code class="language-plaintext highlighter-rouge">openssl req -new -newkey rsa:4096 -nodes -keyout es-client.key -out es-client.csr</code></p>

    <p>This writes the private key to <code class="language-plaintext highlighter-rouge">es-client.key</code> and the CSR to <code class="language-plaintext highlighter-rouge">es-client.csr</code> in PEM format. You can provide any identifying information for the CSR subject, common name, or subject alternative names.</p>

    <p><strong>Note</strong>: Event Streams does not perform host name verification when it receives the certificate.</p>

    <p>Java users can create CSRs using the <code class="language-plaintext highlighter-rouge">keytool -certreq ...</code> command as described in the <a href="https://www.ibm.com/support/knowledgecenter/en/SSYKE2_7.0.0/com.ibm.java.security.component.70.doc/security-component/keytoolDocs/certreq.html" target="_blank">IBM SDK, Java Technology Edition documentation</a>. CICS users can use RACF by following the steps described in the <a href="https://www.ibm.com/support/knowledgecenter/en/SSGMCP_5.4.0/security/tcpip/dfht5_requestcert.html" target="_blank">CICS Transaction Server documentation</a>.</p>
  </li>
  <li>
    <p>Call the Event Streams CLI to sign the CSR and embed the API key. For example, you can do this by using the files created in the previous step and the API key created as mentioned in <a href="#prerequisites">prerequisites</a> earlier:<br />
 <code class="language-plaintext highlighter-rouge">cloudctl es sign-clientauth-csr --in es-client.csr --api-key &lt;api-key&gt; --out es-client.pem</code></p>

    <p>This creates the client certificate in <code class="language-plaintext highlighter-rouge">es-client.pem</code> in PEM format. The <code class="language-plaintext highlighter-rouge">sign-clientauth-csr</code> CLI command expects and produces PEM files by default, but the DER format is also supported by using the <code class="language-plaintext highlighter-rouge">--in-format</code> and <code class="language-plaintext highlighter-rouge">--out-format</code> parameters.</p>
  </li>
</ol>

<h3 id="verify-your-client-certificate">Verify your client certificate</h3>

<p>You can test the validity of your client certificate and private key before configuring your client system by running the following <code class="language-plaintext highlighter-rouge">wget</code> command to produce a test mesage to the topic:</p>

<p><code class="language-plaintext highlighter-rouge">wget -qSO- --content-on-error --certificate=&lt;client-cert&gt; --private-key=&lt;client-key&gt; --ca-cert=&lt;es-cert&gt; --header 'Content-Type: text/plain' --post-data='some test data' &lt;client-auth-endpoint&gt;/topics/&lt;topic-name&gt;/records</code></p>

<p>Where:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">&lt;client-cert&gt;</code> is the SSL client certificate file in PEM format.</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;client-key&gt;</code> is the private key file for the SSL client certificate in PEM format.</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;es-cert&gt;</code> is the Event Streams server certificate file in PEM format.</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;client-auth-endpoint&gt;</code> is the client authentication API endpoint.</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;topic-name&gt;</code> is the topic to be written to.</li>
</ul>

<h3 id="produce-messages-with-an-ssl-client-certificate">Produce messages with an SSL client certificate</h3>

<p>Consult the documentation for your system to understand how to specify the client certificate and private key for the outgoing REST calls to Event Streams. You also need to add the Event Streams server certificate to the list of trusted certificates used by your system (this is the certificate downloaded as part of the <a href="#prerequisites">prerequisites</a>).</p>

<p>For example, the steps to configure a CICS URIMAP as an HTTP client is described in the  <a href="https://www.ibm.com/support/knowledgecenter/en/SSGMCP_5.4.0/applications/developing/web/dfhtl_urioutbound.html" target="_blank">CICS Transaction Server documentation</a>. In this case, load the client certificate and private key, together with the Event Streams server certificate into your RACF key ring. When defining the URIMAP:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Host</code> is the client authentication API endpoint obtained as part of the <a href="#prerequisites">prerequisites</a>, without the leading <code class="language-plaintext highlighter-rouge">https://</code></li>
  <li><code class="language-plaintext highlighter-rouge">Path</code> is <code class="language-plaintext highlighter-rouge">/topics/&lt;topic-name&gt;/records</code></li>
  <li><code class="language-plaintext highlighter-rouge">Certificate</code> is the label given to the client certificate when it was loaded into the key ring.</li>
</ul>

<p>If you are using Java keystores, the client certificate can be imported by using the <code class="language-plaintext highlighter-rouge">keytool -importcert ...</code> command as described in the <a href="https://www.ibm.com/support/knowledgecenter/en/SSYKE2_7.0.0/com.ibm.java.security.component.70.doc/security-component/keytoolDocs/importcert.html" target="_blank">IBM SDK, Java Technology Edition documentation</a>.</p>

<p>Some systems require the client certificate and private key to be combined into one PKCS12 file (with extension <code class="language-plaintext highlighter-rouge">.p12</code> or <code class="language-plaintext highlighter-rouge">.pfx</code>). For example, the following command creates a PKCS12 file from the client certificate and private key files created earlier:<br />
  <code class="language-plaintext highlighter-rouge">openssl pkcs12 -export -inkey es-client.key -nodes -in es-client.pem -name my-client-cert -out es-client.p12</code></p>

<p><code class="language-plaintext highlighter-rouge">my-client-cert</code> is an arbitrary name or alias given to the client certificate in the PKCS12 file. You will be asked to specify a password to protect the certificate in the file. You will need to provide this, as well as the alias, when configuring your system.</p>

<p>For full details of the API, see the <a href="../../api/" target="_blank">API reference</a>.</p>

<!--
To create a topic and API key with produce permissions by using the UI:
1. Log in to your Event Streams UI.
2. Click the **Topics** tab.
3. Select the topic you want to produce to. If you have not previously created the topic, create it now by clicking **Create topic**.
4. Click **Connect to this topic** on the right.
6. On the **Connect a client** tab, go to the **API key** section, and follow the instructions to generate an API key authorized to connect to the cluster and produce to the topic. Ensure you select **Produce only**. The name of the selected topic is filled in automatically.
-->

          </div>


          
        </section>

        <aside class="sidebar__right ">
          
          <div class="fixedSidebar">
            <nav class="toc">
              <ul class="toc__menu">
  <li><a href="#about-authorization">About authorization</a></li>
  <li><a href="#prerequisites">Prerequisites</a>
    <ul>
      <li><a href="#key-and-message-size-limits">Key and message size limits</a></li>
    </ul>
  </li>
  <li><a href="#producing-messages-using-rest-with-http-authorization">Producing messages using REST with HTTP authorization</a></li>
  <li><a href="#producing-messages-using-rest-with-ssl-client-authentication">Producing messages using REST with SSL client authentication</a>
    <ul>
      <li><a href="#create-an-ssl-client-certificate">Create an SSL client certificate</a></li>
      <li><a href="#verify-your-client-certificate">Verify your client certificate</a></li>
      <li><a href="#produce-messages-with-an-ssl-client-certificate">Produce messages with an SSL client certificate</a></li>
    </ul>
  </li>
</ul>
            </nav>
          </div>
          
        </aside>


      </div>
      <div class="pageEnd">
        
          
  <nav class="pagination">
    
      <div class="previous" onclick="window.open('/event-automation/es/es_2019.4/georeplication/health/','_self')">
        <div class="container">
          <a href="/event-automation/es/es_2019.4/georeplication/health/" class="pagination--pager" title="Previous Item: Monitoring and managing geo-replication
">Previous</a>
          <h2 class="titlePreview">Monitoring and managing geo-replication
</h2>
        </div>
      </div>
    
    
      <div class="next" onclick="window.open('/event-automation/es/es_2019.4/connecting/connectors/','_self')">
        <div class="container">
          <a href="/event-automation/es/es_2019.4/connecting/connectors/" class="pagination--pager" title="Next Item: Kafka Connect and connectors
">Next</a>
          <h2 class="titlePreview">Kafka Connect and connectors
</h2>
        </div>
      </div>
      
  </nav>

        
      </div>
    </div>


  </div> <!-- Main content -->

</main></div>


    
      <div class="page__footer">
          <footer>
            <!-- start custom footer snippets -->

<!-- end custom footer snippets -->

            
<div class="page__footer-copyright"><a href="https://www.ibm.com/privacy/us/en/" rel="nofollow" target="_blank">Privacy Policy</a>  &nbsp; Copyright IBM Corporation 2023</br>
<a href="http://localhost:4000/event-automation/accessibility/" rel="nofollow" target="_blank">Accessibility</a> </br> <a href="http://localhost:4000/event-automation/notices/" rel="nofollow" target="_blank">Notices</a></br>
          </footer>
      </div>      
    


    
  <script src="/event-automation/assets/js/main.min.js"></script>
  <!-- <script src="https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script> -->






<script src="/event-automation/assets/js/design.js"></script>





<script src="/event-automation/assets/js/lunr/lunr.min.js"></script>
<script src="/event-automation/assets/js/lunr/lunr-store.js"></script>
<script src="/event-automation/assets/js/lunr/lunr-en.js"></script>





    

    
  </body>
</html>
