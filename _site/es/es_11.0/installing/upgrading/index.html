<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Upgrading and migrating - IBM Event Automation</title>
<meta name="description" content="Upgrade your installation to the latest version.">

<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="IBM Event Automation">
<meta property="og:url" content="http://localhost:4000/event-automation/es/es_11.0/installing/upgrading/" />
<meta property="og:title" content="Event Streams | Upgrading and migrating" />
<meta property="og:description" content="Upgrade your installation to the latest version." />

<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="IBM Event Automation | Upgrading and migrating" />




  <meta property="og:description" content="Upgrade your installation to the latest version.">



  <meta property="og:image" content="http://localhost:4000/event-automation/assets/siteMeta/appIcon_og_fb.png">
  <meta name="twitter:image" content="http://localhost:4000/event-automation/assets/siteMeta/appIcon_og_square.png">



  <meta property="article:published_time" content="2023-06-28T12:13:19-04:00">






<link rel="canonical" href="http://localhost:4000/event-automation/es/es_11.0/installing/upgrading/">





  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "http://localhost:4000/event-automation",
      "logo": "http://localhost:4000/event-automation/assets/siteMeta/appIcon_og_fb.png"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": null,
      "url": "http://localhost:4000/event-automation",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/event-automation/feed.xml" type="application/atom+xml" rel="alternate" title="IBM Event Automation Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/event-automation/assets/css/main.css">



<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<link rel="apple-touch-icon" sizes="180x180" href="http://localhost:4000/event-automation/assets/siteMeta/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:4000/event-automation/assets/siteMeta/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:4000/event-automation/assets/siteMeta/favicon-16x16.png">
<link rel="manifest" href="http://localhost:4000/event-automation/assets/siteMeta/site.webmanifest">
<link rel="mask-icon" href="http://localhost:4000/event-automation/assets/siteMeta/safari-pinned-tab.svg" color="#000000">
<link rel="shortcut icon" href="http://localhost:4000/event-automation/assets/siteMeta/favicon.ico">
<link rel="shortcut icon" type="image/png" href="http://localhost:4000/event-automation/assets/siteMeta/favicon-16x16.png"/>
<link rel="shortcut icon" type="image/png" href="http://localhost:4000/event-automation/assets/siteMeta/favicon-32x32.png"/>
<meta name="msapplication-TileColor" content="#000000">
<meta name="msapplication-config" content="http://localhost:4000/event-automation/assets/siteMeta/browserconfig.xml">
<meta name="theme-color" content="#000000">



<link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,600%7CIBM+Plex+Serif:300,400,500%7CIBM+Plex+Mono:300,400,500,700" rel="stylesheet">

<!-- end custom head snippets -->

    <link rel="shortcut icon" type="image/x-icon" href="/event-automation/assets/favicon.ico" >
    
    <base target="_parent">

  </head>
  <script src="/event-automation/assets/animation/lottie.js" type="text/javascript"></script>
  <script src="/event-automation/assets/js/connectors.js"></script>


  
  <body onload="urlChecker()" class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    




<div id="masthead" class="masthead">
  <!--
  <div class="masthead__goToIBMCloud">
  <div>
    You are viewing the documentation for the container-native version of IBM Event Automation.
  </div>
    <a class="link" target="_self" href="https://cloud.ibm.com/docs/EventStreams?topic=EventStreams-getting-started">Looking for the managed service on IBM Cloud? Click here.</a>
</div>
-->
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="mastheadNav">

      


        <div class="mastheadTitle">
          
          <a class="site-title" href="/event-automation/" target="_self"><span>IBM</span>&nbsp;Event Automation</a>
          <div class="viewOnIBMcom">
            <a href="https://www.ibm.com/products/event-automation" target="_blank">View product page</a>
          </div>
        </div>









        <div class="mastheadControls">
            <div class="menuScrollContainer">

        

                <ul id="visible-links" class="visible-links">
                  
                  
                  

                  




                  
                    <li class="masthead__menu-item active" onclick="window.open('http://localhost:4000/event-automation/es/','_self')">
                      <a href="http://localhost:4000/event-automation/es/" >Event Streams</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/eem/','_self')">
                      <a href="http://localhost:4000/event-automation/eem/" >Endpoint Management</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/ep/','_self')">
                      <a href="http://localhost:4000/event-automation/ep/" >Event Processing</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/connectors/','_self')">
                      <a href="http://localhost:4000/event-automation/connectors/" >Connectors</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/tutorials/','_self')">
                      <a href="http://localhost:4000/event-automation/tutorials/" >Tutorials</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/api/','_self')">
                      <a href="http://localhost:4000/event-automation/api/" >APIs...</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/support/','_self')">
                      <a href="http://localhost:4000/event-automation/support/" >Support</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/event-automation/search/','_self')">
                      <button aria-label="Search Button" role="button" id="searchButton" class="search__toggle " type="button" name="search Button">
                        <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                          <path
                            d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z"
                            transform="translate(-.01)"></path>
                        </svg>
                      </button>
                    </li>
                  

                  
                </ul>
        

      </div>
    </div>
      </nav>
    </div>
  </div>
</div>


    <div id="initial-content" class="initial-content" role="main">






<main id="main" class="mainContainer" role="main">
    
      <div id="subMenu" class="subMenu">
        <div tabindex="0" class="menuIcon" id="menuIcon">
          <svg id="mobileMenu" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48">
            <g id="bottomLine">
              <line class="burgerLine" x1="14" y1="29" x2="34" y2="29" />
            </g>
            <g id="middleLine">
              <line class="burgerLine" x1="14" y1="24" x2="34" y2="24" />
            </g>
            <g id="topLine">
              <line class="burgerLine" x1="14" y1="19" x2="34" y2="19" />
            </g>
          </svg>
        </div>
        <div id="mobileVersionShortcut" class="versionContainer" tabindex="0">
          <a id="mobileVersionPillCurrent" class="versionPill">11.0</a>
        </div>
      </div>
    
  



<div id="sidebarMask" class="sidebarMask">

  </div>
  <div id="sidebar" class="sidebar sticky">
      <div aria-label="Change Version" role="button" aria-expanded="false"
      
        id="versionDropdown"
        tabindex="0"
        class="versionsBar"
       >
          <div class="selectedVersion" id="selectedVersion">
            <div class="versionContainer" >
              
                <a id="versionPillCurrent" class="versionPill">11.0</a>
                <a class="versionChange">Change Version</a>
              
            </div>
          </div>
          


          <div class="allVersions" id="allVersions">
            <ul>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/installing/upgrading/" onclick="openVersion('/event-automation/es/installing/upgrading/','es_11.2')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/installing/upgrading/" class="versionPill inactive">11.2</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        Latest
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_11.1/installing/upgrading/" onclick="openVersion('/event-automation/es/es_11.1/installing/upgrading/','es_11.1')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_11.1/installing/upgrading/" class="versionPill inactive">11.1</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_11.0/installing/upgrading/" onclick="openVersion('/event-automation/es/es_11.0/installing/upgrading/','es_11.0')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_11.0/installing/upgrading/" class="versionPill active">11.0</a>
                      </div>
                      <div class="activeContainer">
                        
                          <img alt="" src="http://localhost:4000/event-automation/images/checkbox.svg" />
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_10.5/installing/upgrading/" onclick="openVersion('/event-automation/es/es_10.5/installing/upgrading/','es_10.5')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_10.5/installing/upgrading/" class="versionPill inactive">10.5</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_10.4/installing/upgrading/" onclick="openVersion('/event-automation/es/es_10.4/installing/upgrading/','es_10.4')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_10.4/installing/upgrading/" class="versionPill inactive">10.4</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_10.3/installing/upgrading/" onclick="openVersion('/event-automation/es/es_10.3/installing/upgrading/','es_10.3')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_10.3/installing/upgrading/" class="versionPill inactive">10.3</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_10.2/installing/upgrading/" onclick="openVersion('/event-automation/es/es_10.2/installing/upgrading/','es_10.2')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_10.2/installing/upgrading/" class="versionPill inactive">10.2</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_10.1/installing/upgrading/" onclick="openVersion('/event-automation/es/es_10.1/installing/upgrading/','es_10.1')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_10.1/installing/upgrading/" class="versionPill inactive">10.1</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_10.0/installing/upgrading/" onclick="openVersion('/event-automation/es/es_10.0/installing/upgrading/','es_10.0')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_10.0/installing/upgrading/" class="versionPill inactive">10.0</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_2019.4/installing/upgrading/" onclick="openVersion('/event-automation/es/es_2019.4/installing/upgrading/','es_2019.4')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_2019.4/installing/upgrading/" class="versionPill inactive">2019.4</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_2019.2.1/installing/upgrading/" onclick="openVersion('/event-automation/es/es_2019.2.1/installing/upgrading/','es_2019.2.1')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_2019.2.1/installing/upgrading/" class="versionPill inactive">2019.2.1</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_2019.1.1/installing/upgrading/" onclick="openVersion('/event-automation/es/es_2019.1.1/installing/upgrading/','es_2019.1.1')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_2019.1.1/installing/upgrading/" class="versionPill inactive">2019.1.1</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

                        


                    
                    
                    

                    

                    <li class="version" data-url="/event-automation/es/es_2018.3.1/installing/upgrading/" onclick="openVersion('/event-automation/es/es_2018.3.1/installing/upgrading/','es_2018.3.1')">
                      <div class="pillContainer">
                        
                        <a tabindex="-1" href="/event-automation/es/es_2018.3.1/installing/upgrading/" class="versionPill inactive">2018.3.1</a>
                      </div>
                      <div class="activeContainer">
                        
                      </div>
                      <div class="latest">
                        
                      </div>
                    </li>

                

            </ul>
          </div>
        </div>

  
    
      
      
      
    
    
      

<nav class="nav__list">
  
  <ul class="nav__items">

    
      <li>
        
          <span class="nav__sub-title">About</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/about/overview/" class="">Introduction</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/about/whats-new/" class="">What's new</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/about/key-concepts/" class="">Key concepts</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/about/producing-messages/" class="">Producing messages</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/about/consuming-messages/" class="">Consuming messages</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/about/partition-leadership/" class="">Partition leadership</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Installing and upgrading</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/installing/trying-out/" class="">Trying out Event Streams</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/installing/prerequisites/" class="">Prerequisites</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/installing/planning/" class="">Planning your installation</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/installing/capacity-planning/" class="">Performance and capacity planning</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/installing/preparing-multizone/" class="">Preparing for multizone clusters</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/installing/installing/" class="">Installing</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/installing/configuring/" class="">Configuring</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/installing/post-installation/" class="">Post-installation tasks</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/installing/moving-from-oss-kafka/" class="">Migrating from open-source Kafka</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/installing/uninstalling/" class="">Uninstalling</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/installing/upgrading/" class="active">Upgrading and migrating</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Getting started</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/getting-started/logging-in/" class="">Logging in</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/getting-started/creating-topics/" class="">Creating a Kafka topic</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/getting-started/generating-starter-app/" class="">Running a starter application</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/getting-started/testing-loads/" class="">Creating and testing message loads</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/getting-started/client/" class="">Creating Kafka client applications</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/getting-started/connecting/" class="">Connecting clients</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/getting-started/using-kafka-console-tools/" class="">Using Apache Kafka console tools</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Schemas</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/schemas/overview/" class="">Schemas overview</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/schemas/creating/" class="">Creating and adding schemas</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/schemas/manage-lifecycle/" class="">Managing schema lifecycle</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/schemas/setting-java-apps/" class="">Setting Java applications to use schemas</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/schemas/setting-nonjava-apps/" class="">Setting non-Java applications to use schemas</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/schemas/migrating/" class="">Migrating to Event Streams schema registry</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/schemas/using-with-rest-producer/" class="">Using schemas with the REST producer API</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/schemas/setting-java-apps-apicurio-serdes/" class="">Setting Java applications to use schemas with the Apicurio Registry serdes library</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Security</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/security/managing-access/" class="">Managing access</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/security/encrypting-data/" class="">Encrypting your data</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/security/secure-jmx-connections/" class="">Configuring secure JMX connections</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/security/renewing-certificates/" class="">Renewing certificates</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/security/network-policies/" class="">Network policies</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/security/gdpr-considerations/" class="">Considerations for GDPR</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Geo-replication</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/georeplication/about/" class="">About geo-replication</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/georeplication/planning/" class="">Planning for geo-replication</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/georeplication/setting-up/" class="">Setting up geo-replication</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/georeplication/health/" class="">Monitoring and managing geo-replication</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/georeplication/failover/" class="">Switching clusters</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Connecting external systems</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/connecting/rest-api/" class="">Event Streams producer API</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/connecting/kafka-bridge/" class="">Kafka Bridge</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/connecting/connectors/" class="">Kafka Connect and connectors</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/connecting/setting-up-connectors/" class="">Setting up and running connectors</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/connecting/mq/" class="">Connecting to IBM MQ</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/connecting/mq/source/" class="">Running the MQ source connector</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/connecting/mq/sink/" class="">Running the MQ sink connector</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/connecting/mq/zos/" class="">Running connectors on IBM z/OS</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Administering</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/administering/deployment-health/" class="">Monitoring deployment health</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/administering/cluster-health/" class="">Monitoring Kafka cluster health</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/administering/topic-health/" class="">Monitoring topic health</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/administering/consumer-lag/" class="">Monitoring consumer group lag</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/administering/tracing/" class="">Monitoring applications with distributed tracing</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/administering/external-monitoring/" class="">Monitoring with external tools</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/administering/modifying-installation/" class="">Modifying installation settings</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/administering/cruise-control/" class="">Optimizing Kafka cluster with Cruise Control</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/administering/scaling/" class="">Scaling</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/administering/quotas/" class="">Setting client quotas</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/administering/managing-multizone/" class="">Managing a multizone setup</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/administering/stopping-starting/" class="">Stopping and starting Event Streams</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Troubleshooting</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/intro/" class="">Troubleshooting overview</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/gathering-logs/" class="">Gathering logs</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/resources-not-available/" class="">Resources not available</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/georeplication-error/" class="">Error when creating multiple geo-replicators</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/kafka-producer-error/" class="">TimeoutException when using standard Kafka producer</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/kafka-consumer-hangs/" class="">Standard Kafka consumer hangs</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/cloudctl-es-not-registered/" class="">Command 'cloudctl es' fails with 'not a registered command' error</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/cloudctl-es-fails/" class="">Command 'cloudctl es' produces 'FAILED' message</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/chrome-ubuntu-issue/" class="">UI does not open when using Chrome on Ubuntu</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/error-removing-destination/" class="">Unable to remove destination cluster</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/ui-403-error/" class="">403 error when signing in</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/problem-with-piping/" class="">The UI cannot load data</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/firefox-black-images/" class="">UI shows black images in Firefox</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/default-scc-issues/" class="">Event Streams not installing due to Security Context Constraint (SCC) issues</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/authorization-failed-exceptions/" class="">Client receives AuthorizationException when communicating with brokers</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/504-ui-consumer-groups/" class="">504 timeout error when viewing consumer groups in the Event Streams UI</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/kafka-exporter-not-deployed/" class="">Kafka exporter is not deployed</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/overriding-route-hostnames/" class="">Unable to override external listener route host</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/failed-status-during-cs-install/" class="">Event Streams installation reports failed status</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/no-metrics-ui/" class="">Metrics do not display properly in operator Grafana and the UI dashboard</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/admin-api-mount-failure/" class="">Admin API pod does not start when using OpenShift 4.6</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/pkcs12-keystore-java-client/" class="">Client receives 'Failed to load SSL keystore' message when communicating with brokers</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/upper-case-in-schema-names/" class="">Schema details not accessible when upper-case letters are used in schema names</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/ocp-upgrade-fail/" class="">OpenShift upgrade: fixing scheduling on node and node degraded errors</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/instance-upgrade-fails/" class="">Pods enter ImagePullBackOff state after operator upgraded to 3.0.2</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/foundational-services-320-upgrade-block/" class="">Foundational services 3.20 blocks upgrade to Event Streams 11.0.x</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/watched-namespace/" class="">Apicurio authentication errors due to User Operator watchedNamespace</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/event-automation/es/es_11.0/troubleshooting/kafkarebalance-pendingproposal/" class="">KafkaRebalance custom resource remains in PendingProposal state</a>
            </li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  
  </div>


  <div class="mainContent">
    
    <div id="pageContainer" class="page" itemscope itemtype="http://schema.org/CreativeWork">
      
      <div class="page__inner-wrap">
      

        
        <section class="page__content pageSpacing" itemprop="text">
          
        
          <header>
            <h1 id="page-title" class="page__title" itemprop="headline">
              Upgrading and migrating
</h1>
            
          </header>  
        
        

                    
          <div class="content">
            <p>Upgrade your Event Streams operator and operand instances as follows.</p>

<h2 id="upgrade-paths">Upgrade paths</h2>

<p>You must first upgrade the Event Streams operator, and then upgrade your Event Streams instance (operand version).</p>

<h3 id="upgrade-paths-for-cd-releases">Upgrade paths for CD releases</h3>

<p>The following upgrade paths are available for Continuous Delivery (CD) releases (2.x operators and 10.x operands and later, except for 2.2.x operators and 10.2.x operands):</p>
<ul>
  <li>You can upgrade the Event Streams operator to the latest 3.0.5 version directly from versions 3.0.x, 2.5.x, and 2.4.x. If you have an earlier operator version than 2.4.0, you must first upgrade it to 2.4.0 before upgrading to 3.0.x.</li>
  <li>You can upgrade the Event Streams operand to the latest 11.0.4 version directly from versions 11.0.x, 10.5.x, and 10.4.x. If you have an earlier operand version than 10.4.0, you must first upgrade it <a href="/event-automation/es/es_10.4/installing/upgrading/">to 10.4.0</a> before upgrading to 11.0.x.</li>
</ul>

<h3 id="upgrade-paths-for-eus-releases">Upgrade paths for EUS releases</h3>

<p>You can also upgrade to the latest Event Streams CD release from the Event Streams Extended Update Support (EUS) release (2.2.x operators and 10.2.x operands) as follows:</p>

<ol>
  <li>Upgrade your Event Streams <a href="/event-automation/es/es_10.2/installing/upgrading/">EUS release</a> by upgrading to the latest EUS operator (2.2.x). The latest operator revision for the EUS release ensures you have the latest updates and fixes applied, including updates to enable upgrading to the latest CD release.</li>
  <li><a href="https://www.ibm.com/docs/en/cloud-paks/cp-integration/2022.2?topic=upgrading-cloud-pak-foundational-services" target="_blank">Upgrade your IBM Cloud Pak foundational services</a> from EUS version 3.6.x to the latest CD version.</li>
  <li>After successfully upgrading to the latest CD version of foundational services, ensure you <a href="https://www.ibm.com/docs/en/cpfs?topic=issues-monitoring-resources-not-cleaned-up" target="_blank">clean up the monitoring resources</a> to avoid errors.</li>
  <li>Upgrade your Event Streams version to the latest CD release by following the instructions on this page starting with the <a href="#prerequisites">prerequisites</a> (operator version 3.0.5 and operand version 11.0.4).</li>
</ol>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
  <li>
    <p>Ensure you have followed the <a href="https://www.ibm.com/docs/en/cloud-paks/cp-integration/2022.2?topic=upgrading" target="_blank">upgrade steps for IBM Cloud Pak for Integration</a> before upgrading Event Streams.</p>

    <p><strong>Note:</strong> If you upgrade your OpenShift version before upgrading your Event Streams operator version, the Event Streams operand might display a <code class="language-plaintext highlighter-rouge">Failed</code> status temporarily. This will be resolved when you upgrade your operator and then the operand version, the next steps in the upgrade process.</p>
  </li>
  <li>
    <p>The images for Event Streams release 11.0.x are available in the IBM Cloud Container Registry. Ensure you redirect your catalog source to use <code class="language-plaintext highlighter-rouge">icr.io/cpopen</code> as described in <a href="https://www.ibm.com/docs/en/cloud-paks/1.0?topic=clusters-migrating-from-docker-container-registry#implementing-imagecontentsourcepolicy-to-redirect-to-the ibm-container-registry" target="_blank">Implementing ImageContentSourcePolicy to redirect to the IBM Container Registry</a>.</p>
  </li>
  <li>
    <p>To upgrade successfully, your Event Streams instance must have more than one ZooKeeper node or have persistent storage enabled. If you upgrade an Event Streams instance with a single ZooKeeper node that has ephemeral storage, all messages and all topics will be lost and both ZooKeeper and Kafka pods will move to an error state. To avoid this issue, increase the number of ZooKeeper nodes before upgrading as follows:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> apiVersion: eventstreams.ibm.com/v1beta1
 kind: EventStreams
 metadata:
   name: example-pre-upgrade
   namespace: myproject
 spec:
   strimziOverrides:
     zookeeper:
       replicas: 3
</code></pre></div>    </div>
  </li>
  <li>
    <p>If you have an Event Streams 11.0.3 or earlier installation, and you previously added your own Kafka or Zookeeper metrics rules, then ensure you record these elsewhere to be added to the <code class="language-plaintext highlighter-rouge">metrics-config</code> ConfigMap <a href="#update-metrics-rules">after upgrading</a>.</p>
  </li>
</ul>

<p><strong>Important:</strong> If you have configured custom certificates on any of the listeners in your Event Streams custom resource, there will be an outage when you upgrade the operand to any 11.0.x version until you reconfigure your listeners with your custom certificates. This is because the upgrade involves a migration of the listener format, which removes any reference to the custom certificates. To ensure you are prepared to quickly deal with this outage after a successful upgrade, review how you can <a href="#reconfigure-listeners-with-custom-certificates">reconfigure your custom certificates</a>.</p>

<h2 id="upgrading-by-using-the-ui">Upgrading by using the UI</h2>

<p>The upgrade process requires the upgrade of the Event Streams operator, and then the upgrade of your Event Streams instances. If you are using the OpenShift Container Platform web console, complete the steps in the following sections to upgrade your Event Streams installation.</p>

<h3 id="upgrade-the-event-streams-operator">Upgrade the Event Streams operator</h3>

<ol>
  <li>Log in to the OpenShift Container Platform <a href="https://docs.openshift.com/container-platform/4.12/web_console/web-console.html" target="_blank">web console</a> using your login credentials.</li>
  <li>Expand <strong>Operators</strong> in the navigation on the left, and click <strong>Installed Operators</strong>.<br />
<img src="/event-automation/images/rhocp_menu_installedoperators.png" alt="Operators &gt; Installed Operators" title="Screen capture showing how to select Operators &gt; Installed Operators from navigation menu" height="50%" width="50%" /></li>
  <li>From the <strong>Project</strong> list, select the namespace (project) the instance is installed in.</li>
  <li>Locate the operator that manages your Event Streams instance in the namespace. It is called <strong>Event Streams</strong> in the <strong>Name</strong> column. Click the <strong>Event Streams</strong> link in the row.</li>
  <li>Click the <strong>Subscription</strong> tab to display the <strong>Subscription details</strong> for the Event Streams operator.</li>
  <li>Click the version number link in the <strong>Update channel</strong> section (for example, <strong>v2.5</strong>). The <strong>Change Subscription update channel</strong> dialog is displayed, showing the channels that are available to upgrade to.</li>
  <li>Select <strong>v3.0</strong> and click the <strong>Save</strong> button on the <strong>Change Subscription Update Channel</strong> dialog.</li>
</ol>

<p>All Event Streams pods that need to be updated as part of the upgrade will be gracefully rolled. Where required, ZooKeeper pods will roll one at a time, followed by Kafka brokers rolling one at a time.</p>

<p><strong>Important:</strong> The Entity operator might display a <code class="language-plaintext highlighter-rouge">CrashLoopBackOff</code> error. In addition, some Event Streams pods might display errors temporarily when the operator version has been updated. You can ignore these errors and continue with upgrading the Event Streams operand version, which will resolve these errors.</p>

<p><strong>Note:</strong> The number of containers in each Kafka broker will reduce from 2 to 1 as the TLS-sidecar container will be removed from each broker during the upgrade process.</p>

<h3 id="upgrade-the-event-streams-operand-instance">Upgrade the Event Streams operand (instance)</h3>

<ol>
  <li>Click <strong>Installed Operators</strong> from the navigation on the left to view the list of installed operators, including the upgraded <strong>Event Streams</strong> operator.</li>
  <li>Select the <strong>Event Streams</strong> operator from the list of <strong>Installed Operators</strong>.</li>
  <li>Click the <strong>Event Streams</strong> tab. This lists the <strong>Event Streams</strong> operands.</li>
  <li>Find your instance in the <strong>Name</strong> column and click the link for the instance.</li>
  <li>Click the <strong>YAML</strong> tab. The <strong>Event Streams</strong> instance custom resource is shown.</li>
  <li>In the YAML, change the <code class="language-plaintext highlighter-rouge">spec.version</code> field to the required version, for example, 11.0.4.</li>
  <li>Click the <strong>Save</strong> button.</li>
</ol>

<p>All Event Streams pods will gracefully roll again.</p>

<p>Alternatively, you can also upgrade your Event Streams instance in the IBM Cloud Pak for Integration Platform UI as follows:</p>
<ol>
  <li>Log in to the IBM Cloud Pak for Integration Platform UI.</li>
  <li>Click the <strong>Navigation Menu</strong> in the top left.</li>
  <li>Expand <strong>Administration</strong> and click <strong>Integration instances</strong>.
If an update is available for a runtime, the <img src="/event-automation/images/icon_info.png" alt="Information icon" /> <strong>Information icon</strong> displays next to the runtimes current Version number.</li>
  <li>Click the <img src="/event-automation/images/more_options.png" alt="More options icon" title="Three vertical dots for the more options icon at end of each row." height="30px" width="15px" /> <strong>More options</strong> in the row for the Event Streams instance, and then click <strong>Change version</strong>.</li>
  <li>Select <strong>11.0.4</strong> from the <strong>Select a new channel or version</strong> list.</li>
  <li>Click <strong>Change version</strong> to save your selections and start the upgrade.
In the runtimes table, the <strong>Status</strong> column for the runtime displays the <code class="language-plaintext highlighter-rouge">Upgrading</code> message. The upgrade is complete when the <strong>Status</strong> is <code class="language-plaintext highlighter-rouge">Ready</code> and the <strong>Version</strong> displays the new version number.</li>
</ol>

<h2 id="upgrading-by-using-the-cli">Upgrading by using the CLI</h2>

<p>The upgrade process requires the upgrade of the Event Streams operator, and then the upgrade of your Event Streams instances. If you are using the OpenShift command-line interface (CLI), the oc command, complete the steps in the following sections to upgrade your Event Streams installation.</p>

<h3 id="upgrade-the-event-streams-operator-1">Upgrade the Event Streams operator</h3>

<ol>
  <li>Log in to your Red Hat OpenShift Container Platform as a cluster administrator by using the <a href="https://docs.openshift.com/container-platform/4.12/cli_reference/openshift_cli/getting-started-cli.html#cli-logging-in_cli-developer-commands" target="_blank"><code class="language-plaintext highlighter-rouge">oc</code> CLI</a> (<code class="language-plaintext highlighter-rouge">oc login</code>).</li>
  <li>
    <p>Ensure the required Event Streams Operator Upgrade Channel is available:</p>

    <p><code class="language-plaintext highlighter-rouge">oc get packagemanifest ibm-eventstreams -o=jsonpath='{.status.channels[*].name}'</code></p>
  </li>
  <li>
    <p>Change the subscription to move to the required update channel, where <code class="language-plaintext highlighter-rouge">vX.Y</code> is the required update channel (for example, <code class="language-plaintext highlighter-rouge">v3.0</code>):</p>

    <p><code class="language-plaintext highlighter-rouge">oc patch subscription -n &lt;namespace&gt; ibm-eventstreams --patch '{"spec":{"channel":"vX.Y"}}' --type=merge</code></p>
  </li>
</ol>

<p>All Event Streams pods that need to be updated as part of the upgrade will be gracefully rolled. Where required, ZooKeeper pods will roll one at a time, followed by Kafka brokers rolling one at a time.</p>

<p><strong>Important:</strong> The Entity operator might display a <code class="language-plaintext highlighter-rouge">CrashLoopBackOff</code> error. In addition, some Event Streams pods might display errors temporarily when the operator version has been updated. You can ignore these errors and continue with upgrading the Event Streams operand version, which will resolve these errors.</p>

<p><strong>Note:</strong> The number of containers in each Kafka broker will reduce from 2 to 1 as the TLS-sidecar container will be removed from each broker during the upgrade process.</p>

<h3 id="upgrade-the-event-streams-operand-instance-1">Upgrade the Event Streams operand (instance)</h3>

<p>Upgrade the Event Streams instance to move to the required version, where <code class="language-plaintext highlighter-rouge">X.Y.Z</code> is the required version, for example, 11.0.4.</p>

<p><code class="language-plaintext highlighter-rouge">oc patch eventstreams -n &lt;namespace&gt; &lt;name-of-the-es-instance&gt; --patch '{"spec":{"version":"X.Y.Z"}}' --type=merge</code></p>

<p>All Event Streams pods will gracefully roll again.</p>

<h2 id="verifying-the-upgrade">Verifying the upgrade</h2>

<ol>
  <li>Wait for all Event Streams pods to complete the upgrade process. This is indicated by the <code class="language-plaintext highlighter-rouge">Running</code> state.</li>
  <li>Log in to your Red Hat OpenShift Container Platform as a cluster administrator by using the <a href="https://docs.openshift.com/container-platform/4.12/cli_reference/openshift_cli/getting-started-cli.html#cli-logging-in_cli-developer-commands" target="_blank"><code class="language-plaintext highlighter-rouge">oc</code> CLI</a> (<code class="language-plaintext highlighter-rouge">oc login</code>).</li>
  <li>To retrieve a list of Event Streams instances, run the following command:<br />
<code class="language-plaintext highlighter-rouge">oc get eventstreams -n &lt;namespace&gt;</code></li>
  <li>For the instance of Event Streams that you upgraded, check that the status returned by the following command is <code class="language-plaintext highlighter-rouge">Ready</code>.<br />
<code class="language-plaintext highlighter-rouge">oc get eventstreams -n &lt;namespace&gt; &lt;name-of-the-es-instance&gt; -o jsonpath="'{.status.phase}'"</code></li>
</ol>

<h2 id="post-upgrade-tasks">Post-upgrade tasks</h2>

<h3 id="reconfigure-listeners-with-custom-certificates">Reconfigure listeners with custom certificates</h3>

<p>To enable your clients to connect with the upgraded Event Streams that uses custom certificates, add the certificate configuration again in the new format as follows:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      - name: external
        type: route
        port: 9092
        authentication:
          type: scram-sha-512
        tls: true
        configuration:
          brokerCertChainAndKey:
            certificate: my-listener-certificate.crt
            key: my-listener-key.key
            secretName: my-secret
</code></pre></div></div>

<h3 id="enable-collection-of-producer-metrics">Enable collection of producer metrics</h3>

<p>In Event Streams version 11.0.0 and later, a Kafka Proxy handles gathering metrics from producing applications. The information is displayed in the <a href="../../administering/topic-health/"><strong>Producers</strong> dashboard</a>. The proxy is optional and is not enabled by default. To enable metrics gathering and have the information displayed in the dashboard, <a href="../../installing/configuring/#enabling-collection-of-producer-metrics">enable the Kafka Proxy</a>.</p>

<h3 id="update-metrics-rules">Update metrics rules</h3>

<p>If you previously added your own Kafka or Zookeeper metrics rules, then ensure you add these rules again to the <code class="language-plaintext highlighter-rouge">metrics-config</code> ConfigMap. The rules in the following ConfigMap are the default rules. Add your own custom rules to <code class="language-plaintext highlighter-rouge">data.kafka-metrics-config.yaml.rules:</code> or <code class="language-plaintext highlighter-rouge">data.zookeeper-metrics-config.yaml.rules:</code> after the default rules.</p>

<p>If you do not want to export metrics then delete all of the rules in the <code class="language-plaintext highlighter-rouge">metrics-config</code> ConfigMap.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kind: ConfigMap
apiVersion: v1
metadata:
  name: metrics-config
data:
  kafka-metrics-config.yaml: |
    lowercaseOutputName: true
    rules:
    - attrNameSnakeCase: false
      name: kafka_controller_$1_$2_$3
      pattern: kafka.controller&lt;type=(\w+), name=(\w+)&gt;&lt;&gt;(Count|Value|Mean)
    - attrNameSnakeCase: false
      name: kafka_server_BrokerTopicMetrics_$1_$2
      pattern: kafka.server&lt;type=BrokerTopicMetrics, name=(BytesInPerSec|BytesOutPerSec)&gt;&lt;&gt;(Count)
    - attrNameSnakeCase: false
      name: kafka_server_BrokerTopicMetrics_$1__alltopics_$2
      pattern: kafka.server&lt;type=BrokerTopicMetrics, name=(BytesInPerSec|BytesOutPerSec)&gt;&lt;&gt;(OneMinuteRate)
    - attrNameSnakeCase: false
      name: kafka_server_ReplicaManager_$1_$2
      pattern: kafka.server&lt;type=ReplicaManager, name=(\w+)&gt;&lt;&gt;(Value)
  zookeeper-metrics-config.yaml: |
    lowercaseOutputName: true
    rules: []
</code></pre></div></div>

<h3 id="deprecation-warnings-for-metrics">Deprecation warnings for metrics</h3>

<p>The <code class="language-plaintext highlighter-rouge">metrics</code> configuration option for the <code class="language-plaintext highlighter-rouge">EventStreams</code> custom resource has been deprecated. If you receive deprecation warnings about <code class="language-plaintext highlighter-rouge">spec.kafka.metrics:
{}</code> or <code class="language-plaintext highlighter-rouge">spec.zookeeper.metrics:{}</code> after upgrading, then remove the <code class="language-plaintext highlighter-rouge">metrics: {}</code> line from the <code class="language-plaintext highlighter-rouge">EventStreams</code> <a href="/event-automation/es/es_10.5/installing/configuring/#configuring-external-monitoring-through-prometheus">custom resource</a>.</p>
<h3 id="enable-metrics-for-monitoring">Enable metrics for monitoring</h3>

<p>To display metrics in the monitoring dashboards of the Event Streams UI, ensure you <a href="https://www.ibm.com/docs/en/cloud-paks/cp-integration/2022.2?topic=administering-enabling-openshift-container-platform-monitoring" target="_blank">enable</a> the OpenShift Container Platform monitoring stack.</p>

          </div>


          
        </section>

        <aside class="sidebar__right ">
          
          <div class="fixedSidebar">
            <nav class="toc">
              <ul class="toc__menu">
  <li><a href="#upgrade-paths">Upgrade paths</a>
    <ul>
      <li><a href="#upgrade-paths-for-cd-releases">Upgrade paths for CD releases</a></li>
      <li><a href="#upgrade-paths-for-eus-releases">Upgrade paths for EUS releases</a></li>
    </ul>
  </li>
  <li><a href="#prerequisites">Prerequisites</a></li>
  <li><a href="#upgrading-by-using-the-ui">Upgrading by using the UI</a>
    <ul>
      <li><a href="#upgrade-the-event-streams-operator">Upgrade the Event Streams operator</a></li>
      <li><a href="#upgrade-the-event-streams-operand-instance">Upgrade the Event Streams operand (instance)</a></li>
    </ul>
  </li>
  <li><a href="#upgrading-by-using-the-cli">Upgrading by using the CLI</a>
    <ul>
      <li><a href="#upgrade-the-event-streams-operator-1">Upgrade the Event Streams operator</a></li>
      <li><a href="#upgrade-the-event-streams-operand-instance-1">Upgrade the Event Streams operand (instance)</a></li>
    </ul>
  </li>
  <li><a href="#verifying-the-upgrade">Verifying the upgrade</a></li>
  <li><a href="#post-upgrade-tasks">Post-upgrade tasks</a>
    <ul>
      <li><a href="#reconfigure-listeners-with-custom-certificates">Reconfigure listeners with custom certificates</a></li>
      <li><a href="#enable-collection-of-producer-metrics">Enable collection of producer metrics</a></li>
      <li><a href="#update-metrics-rules">Update metrics rules</a></li>
      <li><a href="#deprecation-warnings-for-metrics">Deprecation warnings for metrics</a></li>
      <li><a href="#enable-metrics-for-monitoring">Enable metrics for monitoring</a></li>
    </ul>
  </li>
</ul>
            </nav>
          </div>
          
        </aside>


      </div>
      <div class="pageEnd">
        
          
  <nav class="pagination">
    
      <div class="previous" onclick="window.open('/event-automation/es/es_11.0/installing/uninstalling/','_self')">
        <div class="container">
          <a href="/event-automation/es/es_11.0/installing/uninstalling/" class="pagination--pager" title="Previous Item: Uninstalling
">Previous</a>
          <h2 class="titlePreview">Uninstalling
</h2>
        </div>
      </div>
    
    
      <div class="next" onclick="window.open('/event-automation/es/es_11.0/getting-started/logging-in/','_self')">
        <div class="container">
          <a href="/event-automation/es/es_11.0/getting-started/logging-in/" class="pagination--pager" title="Next Item: Logging in
">Next</a>
          <h2 class="titlePreview">Logging in
</h2>
        </div>
      </div>
      
  </nav>

        
      </div>
    </div>


  </div> <!-- Main content -->

</main></div>


    
      <div class="page__footer">
          <footer>
            <!-- start custom footer snippets -->

<!-- end custom footer snippets -->

            
<div class="page__footer-copyright"><a href="https://www.ibm.com/privacy/us/en/" rel="nofollow" target="_blank">Privacy Policy</a>  &nbsp; Copyright IBM Corporation 2023</br>
<a href="http://localhost:4000/event-automation/accessibility/" rel="nofollow" target="_blank">Accessibility</a> </br> <a href="http://localhost:4000/event-automation/notices/" rel="nofollow" target="_blank">Notices</a></br>
          </footer>
      </div>      
    


    
  <script src="/event-automation/assets/js/main.min.js"></script>
  <!-- <script src="https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script> -->






<script src="/event-automation/assets/js/design.js"></script>





<script src="/event-automation/assets/js/lunr/lunr.min.js"></script>
<script src="/event-automation/assets/js/lunr/lunr-store.js"></script>
<script src="/event-automation/assets/js/lunr/lunr-en.js"></script>





    

    
  </body>
</html>
